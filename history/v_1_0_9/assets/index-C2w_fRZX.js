import{j as s,o as sr,B as Q,T as J,q as Zt,x as _t,w as Sn,g as Pn,ae as kn,K as nt,ab as it,af as $t,$ as Cn,G as Ce}from"./mui-CyG7s_nf.js";import{r as x,a as An,e as Ae}from"./reactVendor-BAhb8EbJ.js";import{u as ye}from"./lang-DxTEvHWx.js";import{ag as In,aC as $n,r as cr,u as ge,p as at,a as Se,aD as Tn,am as Pt,a5 as ce,_ as Ln,aE as Dn,aF as jn,aG as On,aH as En,aI as Bn,U as Nn,a0 as Vt,a1 as Rn,R as Wn,G as lr,ak as bt,aJ as Mn,a3 as qn,aK as kt,aL as zn,aM as Un,C as Fn,k as Gn,a2 as Kn,W as Zn}from"./react-setup-BUFX2CI_.js";import"../index.BGyvYgby.js";import{b as Tt}from"./b3Logger-CMQiGC3f.js";import{i as Vn}from"./address-uuvJ-11b.js";import{g as Hn,a as Xn,O as pr,o as hr,b as Jn,c as Qn,d as Yn,e as ei}from"./OrderStatus-Q_g07b-y.js";import{a as dr,u as mr,c as ti}from"./router-BbCjXwHs.js";import{n as pe}from"./eStyled-B3rIBjaz.js";import{b as ri}from"./lodashEs-Ck10JMnh.js";import{u as ni}from"./form-Bvi8lP6x.js";import{B as ii}from"./B3CustomForm-CX4LMs7J.js";import{s as Ht}from"./B3LinkTipContent-BURvls1t.js";import{b as ai}from"./b3TriggerCartNumber-C5avILlS.js";import ui from"./CreateShoppingList-B6kVJGyi.js";import oi from"./OrderShoppingList-B7ruam5e.js";import{g as si}from"./dateFns-BB2kaHor.js";import{A as ci}from"./muiIcon-BfPleEzf.js";import"./eReact-DeS39u1B.js";import"./intl-CIPMD0ue.js";import"./eCache-BQInSoPa.js";import"./redux-B-shcavw.js";import"./toolkit-CHPG993j.js";import"./dropzone-D4lSiSJA.js";import"./useCustomCallbacks-D2SU_LXI.js";import"./b3ShoppingList-CyZVaPSE.js";const li=(r,e)=>{var i;let t=document.getElementById(e);t||(t=document.createElement("iframe"),t.src="about:blank",t.id=e,t.style.display="none",document.body.appendChild(t));const n=(i=t.contentWindow)==null?void 0:i.document;n&&(n.open(),n.write(r),n.close()),t.style.display="block"},pi=async(r,e)=>{await fetch("/account.php?action=print_invoice&order_id=".concat(r)).then(t=>{if(t.ok)return t.text();throw new Error("Network response was not ok.")}).then(t=>{li(t,e)}).catch(t=>{Tt.error("Error Invoice:",t)})},hi={currency_location:"left",currency_token:"$",decimal_token:".",decimal_places:2,thousands_token:",",currency_exchange_rate:"1.0000000000"},fr={shippings:[],billings:[],history:[],poNumber:"",status:"",statusCode:"",currencyCode:"",currency:"",orderSummary:{createAt:"",name:"",priceData:{}},customStatus:"",money:{...hi},payment:{},orderComments:"",products:[],orderId:"",orderStatus:[],ipStatus:0,invoiceId:0,addressLabelPermission:!1,canReturn:!1,createdEmail:"",orderIsDigital:!1},je=x.createContext({state:fr,dispatch:()=>{}}),di=(r,e)=>{switch(e.type){case"all":return{...r,...e.payload};case"statusType":return{...r,orderStatus:e.payload.orderStatus};case"addressLabel":return{...r,addressLabelPermission:e.payload.addressLabelPermission};default:return r}};function mi(r){const[e,t]=x.useReducer(di,fr),{children:n}=r,i=x.useMemo(()=>({state:e,dispatch:t}),[e]);return s.jsx(je.Provider,{value:i,children:n})}const fi=r=>{const{shipments:e,shippingAddress:t=[],products:n=[]}=r,a=(e||[]).map(c=>{const{items:l}=c,m=[];return l.forEach(_=>{const p=n.find(k=>k.id===_.order_product_id);p&&m.push({...p,current_quantity_shipped:_.quantity,not_shipping_number:p.quantity-p.quantity_shipped})}),{...c,itemsInfo:m}});return t.map(c=>({...c,shipmentItems:[...a.filter(l=>l.order_address_id===c.id)],notShip:{itemsInfo:n.filter(l=>{const m=l;return m.not_shipping_number=l.quantity-l.quantity_shipped,l.quantity>l.quantity_shipped&&c.id===l.order_address_id})}}))},wi=r=>{const{billingAddress:e,products:t}=r;return[{billingAddress:e,products:t}]},Me=r=>{const{decimal_places:e=2}=$n();try{return(parseFloat(r.toString())||0).toFixed(e)}catch(t){return"0.00"}},gi=(r,e)=>{const{dateCreated:t,firstName:n,lastName:i,totalTax:a,subtotalExTax:u,subtotalIncTax:c,totalExTax:l,totalIncTax:m,handlingCostExTax:_,handlingCostIncTax:p,shippingCostExTax:k,shippingCostIncTax:R}=r,{global:{showInclusiveTaxPrice:P}}=In.getState(),v={subTotal:e("orderDetail.summary.subTotal"),shipping:e("orderDetail.summary.shipping"),handingFee:e("orderDetail.summary.handingFee"),tax:e("orderDetail.summary.tax"),grandTotal:e("orderDetail.summary.grandTotal")};return{createAt:t,name:"".concat(n," ").concat(i),priceData:{[v.subTotal]:Me(P?c:u),[v.shipping]:Me(P?R:k),[v.handingFee]:Me(p||_||""),[v.tax]:Me(a||""),[v.grandTotal]:Me(m||l||"")}}},yi=r=>{const{updatedAt:e,billingAddress:t,paymentMethod:n,dateCreated:i}=r,a=new Date(i).getTime()/1e3;return{updatedAt:e,billingAddress:t,paymentMethod:n,dateCreateAt:JSON.stringify(a)}},vi=r=>{const{products:e}=r,t=[];return e.forEach(n=>{const i=t.findIndex(a=>+a.variant_id==+n.variant_id);if(i===-1)t.push(n);else{const a=t[i];t[i]={...a,quantity:+a.quantity+ +n.quantity}}}),t},wr=(r,e)=>{var t;return{shippings:r.orderIsDigital?[]:fi(r),billings:r.orderIsDigital?wi(r):[],history:r.orderHistoryEvent||[],poNumber:r.poNumber||"",status:r.status,statusCode:r.statusId,currencyCode:r.currencyCode,currency:((t=r.money)==null?void 0:t.currency_token)||"$",money:r.money,orderSummary:gi(r,e),payment:yi(r),orderComments:r.customerMessage,products:vi(r),orderId:+r.id,customStatus:r.customStatus,ipStatus:+r.ipStatus||0,invoiceId:+(r.invoiceId||0),canReturn:r.canReturn,createdEmail:r.createdEmail,orderIsDigital:r.orderIsDigital}};var Lt={},_i=sr;Object.defineProperty(Lt,"__esModule",{value:!0});var gr=Lt.default=void 0,bi=_i(cr()),xi=s;gr=Lt.default=(0,bi.default)((0,xi.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore");var Dt={},Si=sr;Object.defineProperty(Dt,"__esModule",{value:!0});var yr=Dt.default=void 0,Pi=Si(cr()),ki=s;yr=Dt.default=(0,Pi.default)((0,ki.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");const xt=1e8;function Ci({onChange:r,color:e}){const t=ye(),n=ge(at),[i,a]=x.useState(xt),[u,c]=x.useState(""),[l,m]=x.useState(!1),[_,p]=x.useState({rightId:"",leftId:""}),k=dr(),[R]=Se();let P=0,v=0,A=null,j=null,O={offset:0};if(k!=null&&k.state){const b=k.state;P=(b==null?void 0:b.currentIndex)||0,v=(b==null?void 0:b.totalCount)||0,A=(b==null?void 0:b.beginDateAt)||null,j=(b==null?void 0:b.endDateAt)||null,O=(b==null?void 0:b.searchParams)||{offset:0}}const B=async()=>{var H,ie,oe,I;m(!0);const W={...O,first:3,offset:i?i-1:0,beginDateAt:A||null,endDateAt:j||null,orderBy:"-createdAt"},{edges:$,totalCount:g}=n?await Hn(W):await Xn(W);let L="",D="",C="";i===g-1?(L="toRight",C=((H=$[$.length-2])==null?void 0:H.node.orderId)||0):i===0?(L="toLeft",D=((ie=$[1])==null?void 0:ie.node.orderId)||0):(C=((oe=$[0])==null?void 0:oe.node.orderId)||0,D=((I=$[2])==null?void 0:I.node.orderId)||0),p({leftId:C,rightId:D}),c(L),m(!1)};if(x.useEffect(()=>{if(v>0&&a(P),i===xt)return;const b=P+(O.offset||0);a(b)},[O]),x.useEffect(()=>{i!==xt&&B()},[i]),JSON.stringify(O)==="{}")return null;const F=()=>{a(i-1),r(_.leftId)},X=()=>{a(i+1),r(_.rightId)},w=i+1;return s.jsxs(Q,{sx:{display:"flex",color:"".concat(e)},children:[!R&&s.jsxs(Q,{sx:{display:"flex",alignItems:"center"},children:[t("orderDetail.pagination.order"),s.jsx(J,{sx:{m:1},children:w}),t("orderDetail.pagination.of"),s.jsx(Q,{sx:{ml:1},children:v})]}),s.jsx(Zt,{onClick:F,disabled:v<=1||u==="toLeft"||l,children:s.jsx(gr,{sx:{color:"".concat(e)}})}),s.jsx(Zt,{onClick:X,disabled:v<=1||u==="toRight"||l,children:s.jsx(yr,{sx:{color:"".concat(e)}})})]})}const Ai=()=>[{name:"return_reason",label:"Return reason",required:!0,xs:12,variant:"outlined",size:"small",fieldType:"dropdown",default:"",options:[{label:"Received Wrong Product",value:"Received wrong product"},{label:"Wrong Product Ordered",value:"Wrong product ordered"},{label:"Not Satisfied With The Product",value:"Not satisfied with the product"},{label:"There Was A Problem With The Product",value:"There was a problem with the product"}]},{name:"return_action",label:"Return action",required:!0,xs:12,variant:"outlined",size:"small",fieldType:"dropdown",default:"",options:[{label:"Repair",value:"Repair"},{label:"Replacement",value:"Replacement"},{label:"Store Credit",value:"Store credit"}]},{name:"return_comments",label:"Comment",required:!1,xs:12,rows:5,variant:"outlined",size:"small",fieldType:"multiline",default:""}],Xt=pe("div")(({isHeader:r,isMobile:e})=>({display:"flex",wordBreak:"break-word",padding:"8px 0 0",gap:"8px",flexWrap:e?"wrap":"initial",...r?{borderBottom:"1px solid #D9DCE9",paddingBottom:"8px",alignItems:"center"}:{alignItems:"flex-start"},...e?{borderTop:"1px solid #D9DCE9",padding:"12px 0 12px","&:first-of-type":{marginTop:"12px"}}:{}})),we=pe("div")(({width:r,padding:e="0",flexBasis:t,textAlignLocation:n})=>({display:"flex",flexGrow:r?0:1,flexShrink:r?0:1,alignItems:"flex-start",justifyContent:n==="right"?"flex-end":"flex-start",flexBasis:t,width:r,padding:e})),Je=pe("div")(()=>({fontSize:"0.875rem",lineHeight:"1.5",color:"#263238"})),Ii=pe("img")(()=>({width:"60px",borderRadius:"4px",flexShrink:0})),$i=pe("div")(()=>({fontSize:"0.75rem",lineHeight:"1.5",color:"#455A64"})),Ti={default:{width:"15%"},qty:{width:"80px"}},Li={default:{width:"100%",padding:"0 0 0 128px"},qty:{width:"100%",padding:"0 0 0 128px"}};function Di(r){const{products:e,getProductQuantity:t=w=>w.editQuantity,onProductChange:n=()=>{},setCheckedArr:i=()=>{},setReturnArr:a=()=>{},textAlign:u="left",type:c}=r,l=ye(),[m]=Se(),[_,p]=x.useState([]),[k,R]=x.useState([]),P=(w,b)=>{const W=parseFloat(b.toString())||0;return(parseInt(w.toString(),10)||0)*W},v=m?Li:Ti,A=()=>{if([..._].length===e.length)p([]),R([]);else{const b=e.map($=>$.variant_id),W=[];e.forEach(($,g)=>{W[g]={returnId:$.id,returnQty:+$.editQuantity}}),p(b),R(W)}},j=(w,b,W)=>{const $=[..._],g=[...k],L=$.findIndex(C=>C===w),D=g.findIndex(C=>C.returnId===b);L!==-1?($.splice(L,1),g.splice(D,1)):($.push(w),g.push({returnId:b,returnQty:W})),p($),R(g)},O=w=>_.includes(w),B=w=>b=>{const W=w,$=b.target.value;+$>=0&&+$<=1e6&&(W.editQuantity=$,c==="return"&&(+$>+w.quantity?(W.editQuantity=w.quantity,ce.error(l("purchasedProducts.error.returnedQuantityShouldBeWithinThePurchase"))):(k.forEach(g=>{const L=g;L.returnId===w.id&&(L.returnQty=+$)}),a(k))),n([...e]))},F=w=>{["KeyE","Equal","Minus"].indexOf(w.code)>-1&&w.preventDefault()},X=w=>()=>{const b=w;(!w.editQuantity||+w.editQuantity==0)&&(b.editQuantity="1",n([...e]))};return x.useEffect(()=>{i(_)},[_]),x.useEffect(()=>{a(k)},[k]),e.length>0?s.jsxs(Q,{children:[!m&&s.jsxs(Xt,{isHeader:!0,isMobile:m,children:[s.jsx(_t,{checked:_.length===e.length,onChange:A}),s.jsx(we,{children:s.jsx(Je,{children:l("orderDetail.reorder.product")})}),s.jsx(we,{textAlignLocation:u,...v.default,children:s.jsx(Je,{children:l("orderDetail.reorder.price")})}),s.jsx(we,{textAlignLocation:u,...v.default,children:s.jsx(Je,{children:l("orderDetail.reorder.qty")})}),s.jsx(we,{textAlignLocation:u,...v.default,children:s.jsx(Je,{children:l("orderDetail.reorder.total")})})]}),m&&s.jsx(Sn,{label:"Seleccionar todo",control:s.jsx(_t,{checked:_.length===e.length,onChange:A}),sx:{paddingLeft:"0.6rem"}}),e.map(w=>s.jsxs(Xt,{isMobile:m,children:[s.jsx(_t,{checked:O(w.variant_id),onChange:()=>j(w.variant_id,w.id,+w.editQuantity)}),s.jsxs(we,{children:[s.jsx(Ii,{src:w.imageUrl||Tn}),s.jsxs(Q,{sx:{marginLeft:"16px"},children:[s.jsx(J,{variant:"body1",color:"#212121",children:w.name}),s.jsx(J,{variant:"body1",color:"#616161",children:w.sku}),(w.product_options||[]).map(b=>s.jsx($i,{children:"".concat(b.display_name,": ").concat(b.display_value)},b.display_name))]})]}),s.jsxs(we,{textAlignLocation:u,padding:"10px 0 0",...v.default,children:[m&&s.jsxs("span",{children:[l("orderDetail.reorder.price")," "]}),"".concat(Pt(w.base_price))]}),s.jsx(we,{textAlignLocation:u,...v.default,children:s.jsx(Pn,{type:"number",variant:"outlined",hiddenLabel:!m,label:m?l("orderDetail.reorder.qty"):"",value:t(w),onChange:B(w),onKeyDown:F,onBlur:X(w),size:"small",sx:{width:m?"60%":"80px","& .MuiFormHelperText-root":{marginLeft:"0",marginRight:"0"}},error:!!w.helperText,helperText:w.helperText})}),s.jsxs(we,{textAlignLocation:u,padding:"10px 0 0",...v.default,children:[m&&s.jsxs("span",{children:[l("orderDetail.reorder.total")," "]}),"".concat(Pt(P(t(w),w.base_price)))]})]},w.sku))]}):null}const ji=()=>{const r=Rn.get("XSRF-TOKEN");if(r)return decodeURIComponent(r)};function Oi({open:r,products:e=[],type:t,currentDialogData:n=void 0,setOpen:i,itemKey:a,orderId:u}){const c=ge(at),[l,m]=x.useState(!1),[_,p]=x.useState(!1),[k,R]=x.useState([]),[P,v]=x.useState([]),[A,j]=x.useState(!1),[O,B]=x.useState([]),[F,X]=x.useState([]),[w]=x.useState(Ai()),[b]=Se(),{control:W,handleSubmit:$,getValues:g,formState:{errors:L},setValue:D}=ni({mode:"all"}),C=ye(),H=()=>{i(!1)},ie=async(q,ee,U)=>{if(!Object.keys(q).length||!ee.length){ce.error(C("purchasedProducts.error.selectOneItem"));return}const se=ee.reduce((te,fe)=>{const Be=te,Ne="return_qty[".concat(fe.returnId,"]");return Be[Ne]=fe.returnQty,te},q);se.authenticity_token=ji(),se.order_id=U;const G=new URLSearchParams(se),M={method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},referrer:"".concat(Vt,"/account.php?action=new_return&order_id=").concat(U),body:G,mode:"no-cors"};try{j(!0);const te=await fetch("".concat(Vt,"/account.php?action=save_new_return"),M);te.status===200&&te.url.includes("saved_new_return")?ce.success(C("purchasedProducts.success.successfulApplication")):ce.error("purchasedProducts.error.failedApplication"),j(!1),H()}catch(te){Tt.error(te)}},oe=()=>{$(q=>{ie(q,F,u)})()},I=(q,ee)=>{let U=!0;return ee.forEach(se=>{const G=(q||[]).find(We=>We.variantSku.toUpperCase()===se.toUpperCase()),M=k.find(We=>We.sku===se);if(!G||!M)return;const{maxQuantity:te=0,minQuantity:fe=0,stock:Be=0,isStock:Ne="0"}=G,Re=(M==null?void 0:M.editQuantity)||1;Ne==="1"&&Re>Be?(M.helperText=C("purchasedProducts.outOfStock"),U=!1):fe!==0&&Re<fe?(M.helperText=C("purchasedProducts.minQuantity",{minQuantity:fe}),U=!1):te!==0&&Re>te?(M.helperText=C("purchasedProducts.maxQuantity",{maxQuantity:te}),U=!1):M.helperText=""}),U||R([...k]),U},h=async()=>{j(!0);try{const q=[],ee=[];if(k.forEach(G=>{O.includes(G.variant_id)&&(q.push({quantity:parseInt("".concat(G.editQuantity),10)||1,productId:G.product_id,variantId:G.variant_id,optionSelections:(G.product_options||[]).map(M=>({optionId:M.product_option_id,optionValue:M.value})),allOptions:G.product_options}),ee.push(G.sku))}),ee.length<=0)return;if(!I(P,ee)){ce.error(C("purchasedProducts.error.fillCorrectQuantity"));return}const U=await Bn(q);U&&(U.data.cart.createCart||U.data.cart.addCartLineItems)?(i(!1),ce.success("",{jsx:Ht({message:C("orderDetail.reorder.productsAdded"),link:Nn,linkText:C("orderDetail.viewCart"),isOutLink:!0,isCustomEvent:!0}),isClose:!0}),ai()):U.errors&&ce.error(U.errors[0].message,{isClose:!0})}catch(q){ce.error(q==null?void 0:q.detail,{isClose:!0})}finally{j(!1)}},d=()=>{if(O.length===0&&ce.error(C("purchasedProducts.error.selectOneItem")),t==="shoppingList"){if(O.length===0)return;H(),p(!0)}t==="reOrder"&&h(),t==="return"&&oe()},y=()=>{m(!1),p(!0)},T=()=>{p(!1)},Z=async q=>{j(!0);try{const U=k.map(G=>{const{product_id:M,variant_id:te,editQuantity:fe,product_options:Be}=G;return{productId:+M,variantId:te,quantity:+fe,optionList:Be.map(Ne=>{const{product_option_id:Re,value:We}=Ne;return{optionId:"attribute[".concat(Re,"]"),optionValue:We}})}}).filter(G=>O.includes(+G.variantId));await(c?Dn:jn)({shoppingListId:+q,items:U}),ce.success("",{jsx:Ht({message:C("orderDetail.addToShoppingList.productsAdded"),link:"/shoppingList/".concat(q),linkText:C("orderDetail.viewShoppingList")}),isClose:!0}),p(!1)}finally{j(!1)}},_e=()=>{p(!1),m(!0)},ke=()=>{m(!1),p(!0)};x.useEffect(()=>{if(!r)return;R(e.map(ee=>({...ee,editQuantity:ee.quantity}))),(async()=>{const U=e.filter(M=>M==null?void 0:M.isVisible).map(M=>M.sku);if(U.length===0)return;const se={skus:U},{variantSku:G=[]}=c?await On(se):await En(se);v(G)})()},[c,r,e]);const vt=q=>{R(q)};return s.jsxs(s.Fragment,{children:[s.jsx(Q,{sx:{ml:3,width:"50%"},children:s.jsxs(Ln,{isOpen:r,fullWidth:!0,handleLeftClick:H,handRightClick:d,title:(n==null?void 0:n.dialogTitle)||"",rightSizeBtn:(n==null?void 0:n.confirmText)||"Save",maxWidth:"md",loading:A,children:[s.jsx(J,{sx:{margin:b?"0 0 1rem":"1rem 0"},children:(n==null?void 0:n.description)||""}),s.jsx(Di,{products:k,onProductChange:vt,setCheckedArr:B,setReturnArr:X,textAlign:b?"left":"right",type:t}),t==="return"&&s.jsxs(s.Fragment,{children:[s.jsx(J,{variant:"body1",sx:{margin:"20px 0"},children:C("purchasedProducts.orderDialog.aditionalInformation")}),s.jsx(ii,{formFields:w,errors:L,control:W,getValues:g,setValue:D})]})]})}),a==="order-summary"&&s.jsx(oi,{isOpen:_,dialogTitle:C("purchasedProducts.orderDialog.addToShoppingList"),onClose:T,onConfirm:Z,onCreate:_e,isLoading:A,setLoading:j}),a==="order-summary"&&s.jsx(ui,{open:l,onChange:y,onClose:ke})]})}const Ei=pe("div")(()=>({})),Bi=pe("div")(r=>({flexWrap:"wrap",padding:r.isShowButtons?"0 1rem 1rem 1rem":0,"& button":{marginLeft:"0",marginRight:"8px",margin:"8px 8px 0 0"}})),Ni=pe("div")(r=>({display:"flex",justifyContent:"space-between",fontWeight:r.nameKey==="Grand total"?700:400,"& p":{marginTop:0,marginBottom:r.nameKey==="Grand total"?"0":"12px",lineHeight:1}})),Ri=pe("div")(()=>({display:"flex",justifyContent:"space-between",fontWeight:400}));function Wi(r){const{header:e,subtitle:t,buttons:n,infos:i,products:a,itemKey:u,orderId:c,role:l,invoiceId:m,ipStatus:_}=r,p=ye(),k=ge(({b2bFeatures:g})=>g.masqueradeCompany.isAgenting),R=[{dialogTitle:p("orderDetail.orderCard.reorder"),type:"reOrder",description:p("orderDetail.orderCard.reorderDescription"),confirmText:p("orderDetail.orderCard.reorderConfirmText")},{dialogTitle:p("orderDetail.orderCard.return"),type:"return",description:p("orderDetail.orderCard.returnDescription"),confirmText:p("orderDetail.orderCard.returnConfirmText")},{dialogTitle:p("orderDetail.orderCard.addToShoppingList"),type:"shoppingList",description:p("orderDetail.orderCard.addToShoppingListDescription"),confirmText:p("orderDetail.orderCard.addToShoppingListConfirmText")}],P=mr(),[v,A]=x.useState(!1),[j,O]=x.useState(""),[B,F]=x.useState(),X=n.filter(g=>g.isCanShow).length>0;let w=[],b=[];if(typeof i!="string"){const{info:g}=i;w=Object.keys(g),b=Object.values(g)}const W=g=>{if(g==="viewInvoice")_!==0?P("/invoice?invoiceId=".concat(m)):pi(c,"b2b_print_invoice");else if(g==="printInvoice")window.open("/account.php?action=print_invoice&order_id=".concat(c));else{if(!k&&+l==3){ce.error(p("orderDetail.orderCard.errorMasquerade"));return}A(!0),O(g);const L=R.find(D=>D.type===g);F(L)}};let $=b==null?void 0:b.map(g=>s.jsx(Ri,{children:g},g));return typeof i=="string"?$=i:i!=null&&i.money&&($=w==null?void 0:w.map((g,L)=>s.jsxs(x.Fragment,{children:[g==="Grand total"&&s.jsx(kn,{sx:{marginBottom:"1rem",marginTop:"0.5rem"}}),s.jsxs(Ni,{nameKey:g,children:[s.jsx("p",{children:g}),s.jsx("p",{children:i!=null&&i.money?"".concat(Mn(i.money,b[L])):Pt(b[L])})]},g)]},g))),s.jsxs(nt,{sx:{marginBottom:"1rem"},children:[s.jsxs(Q,{sx:{padding:"1rem 1rem 0 1rem"},children:[s.jsx(J,{variant:"h5",children:e}),t&&s.jsx("div",{children:t})]}),s.jsx(it,{children:s.jsx(Q,{children:$})}),s.jsx(Bi,{isShowButtons:X,children:n&&n.map(g=>s.jsx(x.Fragment,{children:g.isCanShow&&s.jsx(qn,{value:g.value,name:g.name,variant:g.variant,onClick:ri(()=>{W(g.name)},2e3),children:g.value},g.key)},g.key))}),s.jsx(Oi,{open:v,products:a,currentDialogData:B,type:j,setOpen:A,itemKey:u,orderId:+c})]})}function Mi(r){const{detailsData:e}=r,t=ye(),n=ge(at),i=ge(({company:I})=>I.customer.emailAddress),a=ge(({company:I})=>I.customer.role),u=ge(Wn),{state:{shoppingListEnabled:c=!1}}=x.useContext(lr),{state:{addressLabelPermission:l,createdEmail:m}}=x.useContext(je),{money:_,orderSummary:{createAt:p,name:k,priceData:R}={},payment:{billingAddress:P,paymentMethod:v,dateCreateAt:A}={},orderComments:j="",products:O,orderId:B,ipStatus:F=0,invoiceId:X,poNumber:w}=e,b=x.useCallback(()=>{let I="";return p&&(w?I=t("orderDetail.paidWithPo",{paidDate:bt(p,!0)}):I=t("orderDetail.paidInFull",{paidDate:bt(p,!0)})),I},[w,p,t]);if(!B)return null;const{purchasabilityPermission:W,shoppingListActionsPermission:$,getInvoicesPermission:g}=u,L=I=>{if(l)return I;const h=I.indexOf("/");return I.substring(h+1,I.length)},D=I=>{if(!I)return{};const{first_name:h,last_name:d,company:y,street_1:T,state:Z,zip:_e,country:ke,city:vt}=I||{};return{paymentMethod:t("orderDetail.paymentMethod",{paymentMethod:v!=null?v:""}),name:t("orderDetail.customerName",{firstName:h,lastName:d}),company:L(y),street:T,address:t("orderDetail.customerAddress",{city:vt,state:Z,zip:_e,country:ke})}},C=I=>{const h=I.split(/\n/g),d={},y=["-------------------------------------"];return h.forEach((T,Z)=>{if(T.trim().length>0){let ke=T.trim().includes(":")?T:t("orderDetail.itemComments",{item:T});y.includes(T)&&(ke=T),d["mes".concat(Z)]=ke}}),d},H=[{value:t("orderDetail.reorder"),key:"Re-Order",name:"reOrder",variant:"outlined",isCanShow:n?W:!0},{value:t("orderDetail.return"),key:"Return",name:"return",variant:"outlined",isCanShow:!1},{value:t("orderDetail.addToShoppingList"),key:"add-to-shopping-list",name:"shoppingList",variant:"outlined",isCanShow:n?$&&c:c}],ie=+F!=0||m===i,oe=[{header:t("orderDetail.summary"),key:"order-summary",subtitle:A&&k?t("orderDetail.purchaseDetails",{name:k,updatedAt:bt(+A)}):"",buttons:H,infos:{money:_,info:R||{}}},{header:t("orderDetail.payment"),key:"payment",subtitle:b(),buttons:[{value:t(n?"orderDetail.viewInvoice":"orderDetail.printInvoice"),key:"aboutInvoice",name:n?"viewInvoice":"printInvoice",variant:"outlined",isCanShow:n?ie&&g:ie}],infos:{info:D(P)}},{header:t("orderDetail.comments"),key:"order-comments",subtitle:"",buttons:[],infos:{info:C(j)}}];return s.jsx(Ei,{children:oe&&oe.map(I=>x.createElement(Wi,{products:O,orderId:B.toString(),...I,itemKey:I.key,role:a,ipStatus:F,invoiceId:X,key:I.key}))})}function qi(){const{state:{billings:r=[],addressLabelPermission:e,orderId:t,orderIsDigital:n}}=x.useContext(je),[i]=Se(),a=l=>{const{billingAddress:m}=l;if(m){const{first_name:_,last_name:p}=m;return"".concat(_," ").concat(p)}return""},u=l=>{const{billingAddress:m}=l;if(m){const{street_1:_,city:p,state:k,zip:R,country:P}=m;return"".concat(_,", ").concat(p,", ").concat(k," ").concat(R,", ").concat(P)}return""},c=l=>{if(e)return l;const m=l.indexOf("/");return l.substring(m+1,l.length)};return n?s.jsx($t,{spacing:2,children:r.map(l=>s.jsx(nt,{children:s.jsxs(it,{children:[s.jsxs(Q,{sx:{wordBreak:"break-word",color:"rgba(0, 0, 0, 0.87)",display:"flex",flexDirection:"column",justifyContent:"space-around"},children:[s.jsxs(J,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:[a(l)," – ",c(l.billingAddress.company||"")]}),s.jsx(J,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:u(l)})]}),s.jsx(kt,{products:l.products,totalText:"Total",canToProduct:!0,textAlign:i?"left":"right"})]})},"billing-".concat(t)))}):null}const zi=pe("div")(()=>({"& > .MuiPaper-root":{boxShadow:"none"},"& table":{"& td, & th":{"&:first-of-type":{paddingLeft:0}}}}));function Ui(){const r=ye(),{state:{history:e=[],orderStatus:t=[],customStatus:n}}=x.useContext(je),[i]=Se(),a=c=>{const l=t.find(_=>_.systemLabel===c);let m=(l==null?void 0:l.customLabel)||n;if(l){const _=hr[l.systemLabel];m=_&&r(_)!==l.systemLabel?r(_):m}return m},u=[{key:"time",title:r("orderDetail.history.dateHeader"),render:c=>"".concat(zn(c.createdAt)),width:i?"100px":"200px"},{key:"code",title:r("orderDetail.history.statusHeader"),render:c=>s.jsx(pr,{code:c.status,text:a(c.status)})}];return e.length>0?s.jsx(nt,{children:s.jsxs(it,{sx:{paddingBottom:"50px"},children:[s.jsx(J,{variant:"h5",children:r("orderDetail.history.title")}),s.jsx(zi,{children:s.jsx(Un,{columnItems:u,listItems:e,showPagination:!1})})]})}):null}var vr={};const Fi="Amazon",Gi="amazon",Ki=[{name:"Amazon Logistics",id:"amazon_logistics",regex:["\\s*T\\s*B\\s*A\\s*(?<SerialNumber>([0-9]\\s*){12,12})\\s*"],validation:{},test_numbers:{valid:["TBA000000000000","TBA010000000000","TBA 000000000000","TBA502887274000"],invalid:["TBA50288727400A","000000000000000","000000000000","TBB000000000000"]}},{name:"Amazon International",id:"amazon_international",regex:["\\s*[AFC]\\s*(?<SerialNumber>([0-9]\\s*){10,10})\\s*"],validation:{},test_numbers:{valid:["C1004444443","C1004444444"],invalid:["D1234567890"]}}],Zi={name:Fi,courier_code:Gi,tracking_numbers:Ki},Vi="DHL",Hi="dhl",Xi=[{name:"DHL Express",id:"dhl_express",regex:"\\s*(?<SerialNumber>([0-9]\\s*){9,10})(?<CheckDigit>([0-9]\\s*))",validation:{checksum:{name:"mod7"}},tracking_url:"http://www.dhl.com/en/express/tracking.html?brand=DHL&AWB=%s",test_numbers:{valid:["3318810025","73891051146","8487135506","1099255990","3821724944","3318810036","3318810014"],invalid:["3318810010","3318810034","3318810011"]}},{name:"DHL Express (Piece ID)",id:"dhl_express_piece_id",regex:"\\s*(J[A-Z]{2,3})(?<SerialNumber>([0-9]\\s*){9,10})",validation:{},tracking_url:"http://www.dhl.com/en/express/tracking.html?brand=DHL&AWB=%s",test_numbers:{valid:["JJD0099999999","JVGL0999999990"],invalid:["XJD0099999998"]}},{name:"DHL E-Commerce",id:"dhl_ecommerce",regex:"\\s*((GM)|(LX)|(RX)|(UV)|(CN)|(SG)|(TH)|(IN)|(HK)|(MY))\\s*(?<SerialNumber>([0-9]\\s*){10,39})",validation:{},tracking_url:"http://www.dhl.com/en/express/tracking.html?brand=DHL&AWB=%s",test_numbers:{valid:["GM2951173225174494","GM 2 9 5 117 32 25 1 7 44 9 4","GM295117494011169042"],invalid:["GS295117494011169041","GR295117494011169045"]}}],Ji={name:Vi,courier_code:Hi,tracking_numbers:Xi},Qi="FedEx",Yi="fedex",ea=[{name:"FedEx Express (12)",id:"fedex_12",regex:"\\s*(?<SerialNumber>([0-9]\\s*){11})(?<CheckDigit>[0-9]\\s*)",validation:{checksum:{name:"sum_product_with_weightings_and_modulo",weightings:[3,1,7,3,1,7,3,1,7,3,1],modulo1:11,modulo2:10}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["986578788855","477179081230","799531274483","790535312317"," 7 9 0 5 3 5 3 1 2 3 1 7 ","974367662710"],invalid:["996578788855"]}},{name:"FedEx Express (34)",id:"fedex_34",regex:["\\s*1\\s*0\\s*[0-9]\\s*[0-9]\\s*[0-9]\\s*","([0-9]\\s*){10}","(?<DestinationZip>([0-9]\\s*){5})","(?<SerialNumber>([0-9]\\s*){13})","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"sum_product_with_weightings_and_modulo",weightings:[1,7,3,1,7,3,1,7,3,1,7,3,1],modulo1:11,modulo2:10}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["1001921334250001000300779017972697","1001921380360001000300639585804382","1001901781990001000300617767839437"," 1 0 0 1 9 0 1 7 8 1 9 9 0 0 0 1 0 0 0 3 0 0 6 1 7 7 6 7 8 3 9 4 3 7 ","1002297871540001000300790695517286","1027590111820004833500785458233610"],invalid:["1001901781990001000300617767839438"]}},{name:"FedEx SmartPost",id:"fedex_smartpost",description:"Shipped by FedEx, Delivered by USPS",regex:["\\s*(?:","(?:(?<RoutingApplicationId>4\\s*2\\s*0\\s*)(?<DestinationZip>([0-9]\\s*){5}))?","(?<ApplicationIdentifier>9\\s*2\\s*)",")?","(?<SerialNumber>","(?<SCNC>([0-9]\\s*){2})","(?<ServiceType>2\\s*9\\s*)","(?<ShipperId>([0-9]\\s*){8})","(?<PackageId>([0-9]\\s*){11}|([0-9]\\s*){7})",")","(?<CheckDigit>([0-9]\\s*))"],additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches_regex:".",name:"Delivered by USPS"}]}],partners:[{partner_id:"usps_91",partner_type:"carrier",description:"FedEx SmartPost is a shipping service that utilizes FedEx for the initial transport and the United States Postal Service for final delivery."}],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1},serial_number_format:{prepend_if:{matches_regex:"^(?!92).+",content:"92"}}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["61299998820821171811","9261292700768711948021","420 11213 92 6129098349792366623 8","92 6129098349792366623 8","6129098349792366623 8"],invalid:["9261292700768711948020","92001903060085300042901077","420 11213 61290983497923666231","92 6129098349792366623 5","9400 1112 0108 0805 4830 16","9361 2898 7870 0317 6337 95"]}},{name:"FedEx Ground",id:"fedex_ground",regex:"\\s*(?<SerialNumber>([0-9]\\s*){14})(?<CheckDigit>([0-9]\\s*))",validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:3}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["0414 4176 0228 964","5682 8361 0012 000"," 5 6 8 2   8 3 6 1   0 0 1 2   0 0 0 ","5682 8361 0012 734"],invalid:["5682 8361 0012 732"]}},{name:"FedEx Ground (SSCC-18)",id:"fedex_ground_sscc_18",regex:"\\s*(?<ShippingContainerType>([0-9]\\s*){2})(?<SerialNumber>([0-9]\\s*){15})(?<CheckDigit>[0-9]\\s*)",tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1}},test_numbers:{valid:["00 0123 4500 0000 0027"," 0 0   0 1 2 3   4 5 0 0   0 0 0 0   0 0 2 7 "],invalid:["000000000000000001"]},additional:[{name:"Container Type",regex_group_name:"ShippingContainerType",lookup:[{matches:"00",name:"case/carton"},{matches:"01",name:"pallet"},{matches:"02",name:"larger than a pallet"},{matches:"04",name:"internally defined for intra-company use"}]}]},{name:"FedEx Ground 96 (22)",id:"fedex_ground_96",regex:["\\s*(?<ApplicationIdentifier>9\\s*6\\s*)","(?<SCNC>([0-9]\\s*){2})","(?<ServiceType>([0-9]\\s*){3})","(?<SerialNumber>(?<ShipperId>([0-9]\\s*){7})(?<PackageId>([0-9]\\s*){7}))","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:3}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["9611020987654312345672"," 9 6 1 1 0 2 0 9 8 7 6 5 4 3 1 2 3 4 5 6 7 2 "],invalid:["9600000000000000000001"]}},{name:"FedEx Ground GSN",id:"fedex_ground_gsn",regex:["\\s*(?<ApplicationIdentifier>9\\s*6\\s*)","(?<SCNC>([0-9]\\s*){2})","([0-9]\\s*){5}","(?<GSN>([0-9]\\s*){10})","[0-9]\\s*","(?<SerialNumber>([0-9]\\s*){13})","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"sum_product_with_weightings_and_modulo",weightings:[1,7,3,1,7,3,1,7,3,1,7,3,1],modulo1:11,modulo2:10}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["9622001900000000000000776632517510","9622001560000000000000794808390594","9622001560001234567100794808390594"," 9 6 2 2 0 0 1 5 6 0 0 0 1 2 3 4 5 6 7 1 0 0 7 9 4 8 0 8 3 9 0 5 9 4 ","9632001560123456789900794808390594"],invalid:["9622001560001234567100794808390595","9622001560001234567100794808390597"]}}],ta={name:Qi,courier_code:Yi,tracking_numbers:ea},ra="OnTrac",na="ontrac",ia=[{name:"OnTrac",id:"ontrac_c",regex:"\\s*C\\s*(?<SerialNumber>([0-9]\\s*){13})(?<CheckDigit>[0-9]\\s*)",validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2},serial_number_format:{prepend_if:{matches_regex:"^(?!4).+$",content:"4"}}},tracking_url:"http://www.ontrac.com/tracking/?number=%s",test_numbers:{valid:["C11031500001879","C 110 31 500 00187 9","C10999911320231","C11121552953069","C11121553156000","C11121552829468"],invalid:["C10000000000000","C11031500001889"]}},{name:"OnTrac D",id:"ontrac_d",regex:"\\s*D\\s*(?<SerialNumber>([0-9]\\s*){13})(?<CheckDigit>[0-9]\\s*)",validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2},serial_number_format:{prepend_if:{matches_regex:"^(?!5).+$",content:"5"}}},tracking_url:"http://www.ontrac.com/tracking/?number=%s",test_numbers:{valid:["D10011354453707","D10011345983010","D 100 113 459 830 10","D10011342332145"],invalid:["D10011345983012","D10011342332144"]}}],aa={name:ra,courier_code:na,tracking_numbers:ia},ua="S10 International Standard",oa="s10",sa=[{id:"s10",name:"S10",validation:{checksum:{name:"s10"},additional:{exists:["Courier"]}},regex:"\\s*(?<ServiceType>([A-Z]\\s*){2})(?<SerialNumber>([0-9]\\s*){8})(?<CheckDigit>([0-9]\\s*))(?<CountryCode>([A-Z]\\s*){2})",tracking_url:null,test_numbers:{valid:["RB123456785GB","RB123456785US","RB123456785CV","RB123456785CF"],invalid:["RB123456786US","RB123456785XX"]},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{name:"EMS",matches_regex:"E[A-Z]",description:"International Express Mail Service"},{name:"Letter Post Express",matches_regex:"L[A-Z]",description:""},{name:"Letter Post M-bag",matches_regex:"M[A-Z]",description:"Direct sacks of printed matter sent to a single foreign addressee at a single address"},{name:"Letter Post IBRS",matches_regex:"Q[A-M]",description:"International Business Reply Service"},{name:"Letter Post Registered",matches_regex:"R[A-Z]",description:"Prepaid first-class mail that is recorded by the post office before being sent and at each point along its route to safeguard against loss, theft, or damage."},{name:"Letter Post Misc",matches_regex:"U[A-Z]",description:""},{name:"Letter Post Insured",matches_regex:"V[A-Z]",description:""},{name:"Parcel Post",matches_regex:"C[A-Z]",description:""},{name:"Parcel Post (e-commerce)",matches_regex:"H[A-Z]",description:""},{name:"Domestic",matches_regex:"([BDNPZ][A-Z]|A[V-Z]|G[AD])",description:"Mail designated for domestic, bilateral, or multilateral use"}]},{name:"Courier",regex_group_name:"CountryCode",lookup:[{matches:"AF",country:"Afghanistan",courier:"Afghan Post",courier_url:"http://postalcode.afghanpost.gov.af/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/afghanistan.html"},{matches:"AL",country:"Albania",courier:"Posta Shqiptare",courier_url:"http://www.postashqiptare.al/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/albania.html"},{matches:"DZ",country:"Algeria",courier:"Algérie Poste",courier_url:"http://www.poste.dz/codepostal/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/algeria.html"},{matches:"AO",country:"Angola",courier:"Correios de Angola",courier_url:"http://www.correiosdeangola.co.ao/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/angola.html"},{country:"Antigua and Barbuda",matches:"AG",courier:"Antigua Postal Services",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/antigua-and-barbuda.html"},{matches:"AR",country:"Argentina",courier:"Correo Argentino",courier_url:"http://www.correoargentino.com.ar/formularios/cpa",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/argentina.html"},{matches:"AM",country:"Armenia",courier:"Haypost - Armenian Postal Service",courier_url:"http://www.haypost.am/view-lang-eng-page-25.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/armenia.html"},{matches:"AU",country:"Australia",courier:"Australia Post",courier_url:"http://www1.auspost.com.au/postcodes/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/australia.html"},{matches:"AT",country:"Austria",courier:"Österreichische Post AG",courier_url:"http://www.post.at/en/index.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/austria.html"},{matches:"AZ",country:"Azerbaijan",courier:"Azarpoçt",courier_url:"http://www.azerpost.az/?options=content&id=188&language=en",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/azerbaijan.html"},{matches:"BS",country:"Bahamas",courier:"Bahamas Postal Service",courier_url:"http://www.bahamas.gov.bs/postalservice",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/bahamas.html"},{matches:"BH",country:"Bahrain",courier:"Bahrain Post",courier_url:"http://www.transportation.gov.bh/en/modules.php?name=Content&pa=showpage&pid=97",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/bahrain.html"},{matches:"BD",country:"Bangladesh",courier:"Bangladesh Post Office",courier_url:"http://www.bangladeshpost.gov.bd/PostCode.asp",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/bangladesh.html"},{matches:"BB",country:"Barbados",courier:"Barbados Postal Service",courier_url:"http://www.bps.gov.bb/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/barbados.html"},{matches:"BY",country:"Belarus",courier:"Belpochta",courier_url:"http://zip.belpost.by/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/belarus.html"},{matches:"BE",country:"Belgium",courier:"bpost",courier_url:"http://www.bpost.be/site/fr/residential/customerservice/search/postal_codes.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/belgium.html"},{matches:"BZ",country:"Belize",courier:"Belize Postal Service",courier_url:"http://www.belizepostalservice.gov.bz/site/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/belize.html"},{matches:"BJ",country:"Benin",courier:"La Poste du Bénin",courier_url:"http://www.laposte.bj/index1.php?id_page=1",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/benin.html"},{matches:"BT",country:"Bhutan",courier:"Bhutan Post",courier_url:"http://www.bhutanpost.com.bt/postcode/postcode.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/bhutan.html"},{matches:"BO",country:"Bolivia",courier:"ECOBOL – Empresa de Correos de Bolivia",courier_url:"http://www.correosbolivia.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/bolivia.html"},{matches:"BA",country:"Bosnia and Herzegovina",courier:"JP BH POŠTA d.o.o. Sarajevo",courier_url:"http://www.post.ba/postanski_brojevi_bih.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/bosnia-and-herzegovina.html"},{matches:"BW",country:"Botswana",courier:"BotswanaPost",courier_url:"http://www.botspost.co.bw/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/botswana.html"},{matches:"BR",country:"Brazil",courier:"CORREIOS",courier_url:"http://www.buscacep.correios.com.br/servicos/dnec/index.do",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/brazil.html"},{matches:"BN",country:"Brunei Darussalam",courier:"Brunei Postal Services",courier_url:"http://www.post.gov.bn/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/brunei-darussalam.html"},{matches:"BG",country:"Bulgaria (Rep.)",courier:"Bulgarian Posts",courier_url:"http://www.bgpost.bg/?cid=131",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/bulgaria-rep.html"},{matches:"BF",country:"Burkina Faso",courier:"SONAPOST",courier_url:"http://www.sonapost.bf/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/burkina-faso.html"},{matches:"BI",country:"Burundi",courier:"RNP – Régie nationale des postes",courier_url:"http://www.poste.bi/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/burundi.html"},{matches:"KH",country:"Cambodia",courier:"Ministry of Posts and Telecommunications",courier_url:"http://www.mptc.gov.kh/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/cambodia.html"},{matches:"CM",country:"Cameroon",courier:"CAMPOST – Cameroon Postal Services",courier_url:"http://campostonline.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/cameroon.html"},{matches:"CA",country:"Canada",courier:"Canada Post",courier_url:"http://www.canadapost.ca/cpotools/apps/fpc/personal/findByCity?execution=e1s1",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/canada.html"},{country:"Cape Verde",matches:"CV",courier:"Correios de Cabo Verde",courier_url:"http://www.correios.cv/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/cape-verde.html"},{country:"Central African Rep.",matches:"CF",courier:"Direction des services postaux de l'Office National des Postes et de l'Épargne",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/central-african-rep.html"},{matches:"TD",country:"Chad",courier:"Société tchadienne des postes et de l'épargne",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/chad.html"},{matches:"CL",country:"Chile",courier:"Correos de Chile",courier_url:"http://www.correos.cl/SitePages/home.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/chile.html"},{matches:"CN",country:"China (People's Rep.)",courier:"China Post",courier_url:"http://www.cpdc.com.cn/web/index.php?m=postsearch&c=index&a=init&t=addr",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/china-peoples-rep.html"},{matches:"HK",country:"China",courier:"Hong Kong Post",courier_url:"http://www.hongkongpost.hk",upu_reference_url:""},{matches:"CO",country:"Colombia",courier:"4-72 La Red Postal de Colombia",courier_url:"http://visor.codigopostal.gov.co/472/visor/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/colombia.html"},{matches:"KM",country:"Comoros",courier:"Societé Nationale des Postes et des Services Financiers",courier_url:"http://www.lapostecomores.com/bureaux.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/comoros.html"},{matches:"CG",country:"Congo (Rep.)",courier:"Congolese Posts and Savings Company",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/congo-rep.html"},{country:"Costa Rica",matches:"CR",courier:"Correos de Costa Rica",courier_url:"https://www.correos.go.cr/nosotros/codigopostal/busqueda.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/costa-rica.html"},{matches:"HR",country:"Croatia",courier:"Hrvatska Posta - Croatian Post",courier_url:"http://www.posta.hr/default.aspx?pretpum&id=3417",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/croatia.html"},{matches:"CU",country:"Cuba",courier:"Ministerio de la Informática y las comunicaciones de Cuba",courier_url:"http://www.mic.gov.cu/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/cuba.html"},{matches:"CY",country:"Cyprus",courier:"Cyprus Post",courier_url:"http://www.mcw.gov.cy/mcw/dps/dps.nsf/index_en/index_en?OpenDocument",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/cyprus.html"},{matches:"CZ",country:"Czech Rep.",courier:"Česká Pošta",courier_url:"http://psc.cpost.cz/CleanForm.action?request_locale=en",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/czech-rep.html"},{matches:"CI",country:"Côte d'Ivoire (Rep.)",courier:"La Poste de Côte d’Ivoire",courier_url:"http://www.laposte.ci/bureau.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/cote-divoire-rep.html"},{matches:"KP",country:"Dem People's Rep. of Korea",courier:"Korea Post and Telecommunications Corporation",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/dem-peoples-rep-of-korea.html"},{matches:"CD",country:"Democratic Republic of the Congo",courier:"Congolese Posts and Telecommunications Corporation",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/democratic-republic-of-the-congo.html"},{matches:"DK",country:"Denmark",courier:"Post Danmark",courier_url:"http://www.postdanmark.dk/en/find_postcode/Pages/home.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/denmark.html"},{matches:"DJ",country:"Djibouti",courier:"La Poste de Djibouti",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/djibouti.html"},{matches:"DM",country:"Dominica",courier:"General Post Office",courier_url:"http://publicworks.gov.dm/index.php/divisions/general-post-office/20-gpo-about-us",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/dominica.html"},{matches:"DO",country:"Dominican Republic",courier:"INPOSDOM – Instituto Postal Dominicano",courier_url:"http://www.inposdom.gob.do/servicios/codigo-postal",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/dominican-republic.html"},{matches:"EC",country:"Ecuador",courier:"Correos del Ecuador",courier_url:"http://www.codigopostal.gob.ec/#",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/ecuador.html"},{matches:"EG",country:"Egypt",courier:"Egypt Post",courier_url:"http://www.egyptpost.org/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/egypt.html"},{matches:"SV",country:"El Salvador",courier:"Correos de El Salvador",courier_url:"http://www.correos.gob.sv/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/el-salvador.html"},{matches:"GQ",country:"Equatorial Guinea",courier:"Equatorial Guinea Post",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/equatorial-guinea.html"},{matches:"ER",country:"Eritrea",courier:"Eritrean Postal Service",courier_url:"http://www.eriposta.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/eritrea.html"},{matches:"EE",country:"Estonia",courier:"Eesti Post",courier_url:"http://www.post.ee/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/estonia.html"},{matches:"ET",country:"Ethiopia",courier:"Ethiopian postal service",courier_url:"http://www.ethiopostal.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/ethiopia.html"},{matches:"FJ",country:"Fiji",courier:"Post Fiji",courier_url:"http://www.postfiji.com.fj/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/fiji.html"},{matches:"FI",country:"Finland (including the Åland Islands)",courier:"Posti Ltd",courier_url:"http://www.verkkoposti.com/e3/english/postalcodecatalog",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/finland-including-the-aaland-islands.html"},{matches:"FR",country:"France",courier:"La Poste",courier_url:"http://www.laposte.fr/Entreprise/Outils-Indispensables/Outils/Trouvez-un-code-postal",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/france.html"},{matches:"GA",country:"Gabon",courier:"La Poste SA",courier_url:"http://www.laposte.ga/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/gabon.html"},{matches:"GM",country:"Gambia",courier:"Gambia Postal services Corporation",courier_url:"http://www.gampost.gm/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/gambia.html"},{matches:"GE",country:"Georgia",courier:"Georgian Post",courier_url:"http://www.georgianpost.ge/?site-lang=en&site-path=help/zipcodes/&letter=A",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/georgia.html"},{matches:"DE",country:"Germany",courier:"Deutsche Post",courier_url:"http://www.postdirekt.de/plzserver/PlzSearchServlet?lang=en_GB&id=viewstreet",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/germany.html"},{matches:"GH",country:"Ghana",courier:"Ghana Post",courier_url:"http://www.ghanapostgh.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/ghana.html"},{country:"Great Britain",matches:"GB",courier:"Royal Mail Group plc",courier_url:"http://www.royalmail.com/postcode-finder?gear=postcode&campaignid=postcodefinder_redirect",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/great-britain.html"},{matches:"GR",country:"Greece",courier:"Hellenic Post ELTA",courier_url:"http://www.elta.gr/en-us/findapostcode.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/greece.html"},{matches:"GD",country:"Grenada",courier:"Grenada Postal Corporation",courier_url:"http://www.grenadapostal.com/index.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/grenada.html"},{matches:"GT",country:"Guatemala",courier:"El Correo",courier_url:"http://www.elcorreo.com.gt/cdgcorreo/index.php?option=com_content&view=article&id=104&Itemid=233",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/guatemala.html"},{matches:"GN",country:"Guinea",courier:"Office de la poste guinéenne",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/guinea.html"},{country:"Guinea-Bissau",matches:"GW",courier:"Correios da Guiné-Bissau",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/guinea-bissau.html"},{matches:"GY",country:"Guyana",courier:"Guyana Post Office Corporation",courier_url:"http://guypost.gy/gpoc/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/guyana.html"},{matches:"HT",country:"Haiti",courier:"Office des Postes d’Haiti",courier_url:"http://postehaiti.gouv.ht/notre-reseau-postal",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/haiti.html"},{matches:"HN",country:"Honduras (Rep.)",courier:"Honducor",courier_url:"http://honducor.gob.hn/codpost/consulta.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/honduras-rep.html"},{matches:"HU",country:"Hungary",courier:"Magyar Posta",courier_url:"http://www.posta.hu/ugyfelszolgalat/iranyitoszam_kereso",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/hungary.html"},{matches:"IS",country:"Iceland",courier:"Íslandspóstur hf",courier_url:"http://www.postur.is/en/desktopdefault.aspx/tabid-450/700_read-1715/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/iceland.html"},{matches:"IN",country:"India",courier:"India Post",courier_url:"http://www.indiapost.gov.in/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/india.html"},{matches:"ID",country:"Indonesia",courier:"Pos Indonesia",courier_url:"http://kodepos.indonesiaweb.info/en/street/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/indonesia.html"},{matches:"IR",country:"Iran (Islamic Rep.)",courier:"Islamic Republic of Iran Post Co.",courier_url:"http://www.post.ir/Homepage.aspx?site=PostPortal&lang=fa-IR&tabid=0",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/iran-islamic-rep.html"},{matches:"IQ",country:"Iraq",courier:"Iraqi Post",courier_url:"http://www.iraqipost.net/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/iraq.html"},{matches:"IE",country:"Ireland",courier:"AN Post - regulatory and International affairs Unit",courier_url:"http://locator.anpost.ie/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/ireland.html"},{matches:"IL",country:"Israel",courier:"Israel Post",courier_url:"http://www.israelpost.co.il/zipcode.nsf/demozip?openform",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/israel.html"},{matches:"IT",country:"Italy",courier:"Poste Italiane",courier_url:"http://www.poste.it/online/cercacap/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/italy.html"},{matches:"JM",country:"Jamaica",courier:"Jamaica Post",courier_url:"http://www.jamaicapost.gov.jm/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/jamaica.html"},{matches:"JP",country:"Japan",courier:"Japan Post",courier_url:"http://www.post.japanpost.jp/zipcode/index.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/japan.html"},{matches:"JO",country:"Jordan",courier:"Jordan Post",courier_url:"http://www.jordanpost.com.jo/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/jordan.html"},{matches:"KZ",country:"Kazakhstan",courier:"Kazpost",courier_url:"http://www.kazpost.kz/ru/poisk-pochtovogo-indeksa-0",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/kazakhstan.html"},{matches:"KE",country:"Kenya",courier:"Posta Kenya",courier_url:"http://www.posta.co.ke/postOfficeFind.asp",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/kenya.html"},{matches:"KI",country:"Kiribati",courier:"Kiribati Public Service Public",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/kiribati.html"},{matches:"KR",country:"Korea (Rep.)",courier:"Korea Post",courier_url:"http://www.epost.go.kr/roadAreaCdEng.retrieveRdEngAreaCdList.comm",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/korea-rep.html"},{matches:"KW",country:"Kuwait",courier:"Kuwait Ministry of Communications",courier_url:"http://moc.kw/English/index.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/kuwait.html"},{matches:"KG",country:"Kyrgyzstan",courier:"Kyrgyz Post",courier_url:"http://kyrgyzpost.kg/ru/news.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/kyrgyzstan.html"},{matches:"LA",country:"Laos",courier:"Entreprise des Postes Lao",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/lao-peoples-dem-rep.html"},{matches:"LV",country:"Latvia",courier:"Latvia Post",courier_url:"http://www.pasts.lv/lv/uzzinas/parbaudit-adresi/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/latvia.html"},{matches:"LB",country:"Lebanon",courier:"LibanPost",courier_url:"http://www.libanpost.com.lb/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/lebanon.html"},{matches:"LS",country:"Lesotho",courier:"Lesotho Post",courier_url:"http://lesothopost.org.ls/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/lesotho.html"},{matches:"LR",country:"Liberia",courier:"Ministry of Posts and Telecommunications",courier_url:"http://www.mopt.gov.lr/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/liberia.html"},{matches:"LY",country:"Libya",courier:"Libya Post",courier_url:"http://libyapost.ly/en/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/libya.html"},{matches:"LI",country:"Liechtenstein",courier:"Liechtensteinische Post AG",courier_url:"http://www.post.li/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/liechtenstein.html"},{matches:"LT",country:"Lithuania",courier:"Lietuvos Pastas",courier_url:"http://www.post.lt/en/help/postal-code-search",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/lithuania.html"},{matches:"LU",country:"Luxembourg",courier:"Post",courier_url:"http://www.post.lu/en/particuliers/courrier/rechercher-un-code-postal",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/luxembourg.html"},{matches:"MG",country:"Madagascar",courier:"PAOSITRA MALAGASY",courier_url:"http://www.mtpc.gov.mg/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/madagascar.html"},{matches:"MW",country:"Malawi",courier:"Malawi Posts Corporation",courier_url:"http://www.malawiposts.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/malawi.html"},{matches:"MY",country:"Malaysia",courier:"Pos Malaysia",courier_url:"http://www.pos.com.my/pos/homepage.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/malaysia.html"},{matches:"MV",country:"Maldives",courier:"Maldives Post",courier_url:"http://www.maldivespost.com/index.php?lid=10",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/maldives.html"},{matches:"ML",country:"Mali",courier:"Office national des postes",courier_url:"http://www.laposte.ml/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/mali.html"},{matches:"MT",country:"Malta",courier:"Malta Post",courier_url:"http://postcodes.maltapost.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/malta.html"},{matches:"MR",country:"Mauritania",courier:"MAURIPOST – Société Mauritanienne des Postes",courier_url:"http://www.mauripost.mr/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/mauritania.html"},{matches:"MU",country:"Mauritius",courier:"Mauritius Post",courier_url:"http://www.mauritiuspost.mu/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/mauritius.html"},{matches:"MX",country:"Mexico",courier:"Correos de México",courier_url:"http://www.correosdemexico.gob.mx/ServiciosLinea/Paginas/ccpostales.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/mexico.html"},{matches:"MD",country:"Moldova",courier:"Posta Moldovei",courier_url:"http://www.posta.md/ro/postal_code.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/moldova.html"},{matches:"MC",country:"Monaco",courier:"La Poste Monaco",courier_url:"http://www.lapostemonaco.mc/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/monaco.html"},{matches:"MN",country:"Mongolia",courier:"Mongol Post - Монгол шуудан компани",courier_url:"http://www.zipcode.mn/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/mongolia.html"},{country:"Montenegro (Rep.)",matches:"ME",courier:"Pošta Crne Gore",courier_url:"http://www.postacg.me/main.php?idstr=177",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/montenegro-rep.html"},{matches:"MA",country:"Morocco",courier:"Barid Al-Maghrib – Poste Maroc",courier_url:"http://www.codepostal.ma/search_mot.aspx?keyword=",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/morocco.html"},{matches:"MZ",country:"Mozambique",courier:"Correios de Moçambique",courier_url:"http://www.correios.co.mz/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/mozambique.html"},{matches:"MM",country:"Myanmar",courier:"Myanmar Post and Telecommunications Department",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/myanmar.html"},{matches:"NA",country:"Namibia",courier:"NAM Post",courier_url:"https://www.nampost.com.na/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/namibia.html"},{matches:"NR",country:"Nauru",courier:"Nauru General Post Office",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/nauru.html"},{matches:"NP",country:"Nepal",courier:"Nepal Postal Services",courier_url:"http://www.gpo.gov.np/postalcode.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/nepal.html"},{matches:"NL",country:"Netherlands",courier:"PostNL",courier_url:"http://www.postnl.nl/voorthuis/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/netherlands.html"},{matches:"NZ",country:"New Zealand (including the Ross Dependency)",courier:"New Zealand Post",courier_url:"http://www.nzpost.co.nz/Cultures/en-NZ/OnlineTools/PostCodeFinder/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/new-zealand-including-the-ross-dependency.html"},{matches:"NI",country:"Nicaragua",courier:"Correos de Nicaragua",courier_url:"http://www.correos.gob.ni/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/nicaragua.html"},{matches:"NE",country:"Niger",courier:"Niger Poste",courier_url:"http://www.nigerposte.net/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/niger.html"},{matches:"NG",country:"Nigeria",courier:"Nigerian Postal Service",courier_url:"http://www.nigeriapostcodes.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/nigeria.html"},{matches:"NO",country:"Norway",courier:"Posten",courier_url:"http://adressesok.posten.no/en/postal_codes/search",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/norway.html"},{matches:"OM",country:"Oman",courier:"Oman Post",courier_url:"http://www.omanpost.om/Portals/2/Skins/skins//tabid/64/Default.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/oman.html"},{matches:"PK",country:"Pakistan",courier:"Pakistan Post",courier_url:"http://www.pakpost.gov.pk/postcode/postcode.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/pakistan.html"},{matches:"PA",country:"Panama (Rep.)",courier:"Correos de Panamá",courier_url:"http://www.correospanama.gob.pa/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/panama-rep.html"},{matches:"PG",country:"Papua New Guinea",courier:"Post PNG",courier_url:"http://www.postpng.com.pg/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/papua-new-guinea.html"},{matches:"PY",country:"Paraguay",courier:"Correo Paraguayo",courier_url:"http://www.correoparaguayo.gov.py/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/paraguay.html"},{matches:"PE",country:"Peru",courier:"SERPOST – Servicios Postales del Perú",courier_url:"http://www.mtc.gob.pe/portal/CPOSTAL/Listado_codigo_postal.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/peru.html"},{matches:"PH",country:"Philippines",courier:"PHLPOST – Philippine Postal Corporation",courier_url:"https://www.phlpost.gov.ph/zip-code-search.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/philippines.html"},{matches:"PL",country:"Poland",courier:"Poczta Polska",courier_url:"http://kody.poczta-polska.pl/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/poland.html"},{matches:"PT",country:"Portugal",courier:"CTT - Correios",courier_url:"http://www.ctt.pt/feapl_2/app/open/tools.jspx?tool=1",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/portugal.html"},{matches:"QA",country:"Qatar",courier:"Qatar Post",courier_url:"http://www.qpost.com.qa/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/qatar.html"},{matches:"RO",country:"Romania",courier:"Posta Romana",courier_url:"http://www.posta-romana.ro/postal_codes",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/romania.html"},{matches:"RU",country:"Russian Federation",courier:"Russian Post",courier_url:"http://www.russianpost.ru/rp/servise/ru/home/postuslug/searchops",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/russian-federation.html"},{matches:"RW",country:"Rwanda",courier:"National Post Office (Iposita)",courier_url:"http://i-posita.rw/spip.php?article1",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/rwanda.html"},{matches:"KN",country:"Saint Christopher (Saint Kitts) and Nevis",courier:"St. Kitts & Nevis Postal Services",courier_url:"http://www.post.gov.kn/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/saint-christopher-saint-kitts-and-nevis.html"},{matches:"LC",country:"Saint Lucia",courier:"Saint Lucia Postal Service",courier_url:"http://www.stluciapostal.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/saint-lucia.html"},{matches:"VC",country:"Saint Vincent and the Grenadines",courier:"SVG Postal Corporation",courier_url:"http://www.svgpost.gov.vc/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/saint-vincent-and-the-grenadines.html"},{matches:"WS",country:"Samoa",courier:"Samoa Post",courier_url:"http://www.samoapost.ws/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/samoa.html"},{matches:"SM",country:"San Marino",courier:"Poste San Marino",courier_url:"http://www.poste.sm/on-line/home.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/san-marino.html"},{matches:"ST",country:"Sao Tome and Principe",courier:"Correios de São Tomé e Príncipe",courier_url:"http://www.inh.st/correios.st.htm",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/sao-tome-and-principe.html"},{matches:"SA",country:"Saudi Arabia",courier:"Saudi Post",courier_url:"http://maps.address.gov.sa",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/saudi-arabia.html"},{matches:"SN",country:"Senegal",courier:"La Poste Senegal",courier_url:"http://www.laposte.sn/laposte/trouver_codepostal.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/senegal.html"},{matches:"RS",country:"Serbia (Rep.)",courier:'PTT Communications "Srbija"',courier_url:"http://www.posta.rs/struktura/eng/aplikacije/pronadji/nadji-pak-rezultat.asp",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/serbia-rep.html"},{matches:"SC",country:"Seychelles",courier:"Seychelles Postal Service",courier_url:"http://www.seychellespost.gov.sc/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/seychelles.html"},{matches:"SL",country:"Sierra Leone",courier:"Sierra Leone Postal Services",courier_url:"http://www.salpost.sl/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/sierra-leone.html"},{matches:"SG",country:"Singapore",courier:"SingPost",courier_url:"http://www.singpost.com.sg/quick_services/index.htm",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/singapore.html"},{matches:"SK",country:"Slovakia",courier:"Slovenská Posta",courier_url:"http://psc.posta.sk/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/slovakia.html"},{matches:"SI",country:"Slovenia",courier:"Posta Slovenije d.o.o.",courier_url:"http://www.posta.si/postne-stevilke-doma",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/slovenia.html"},{matches:"SB",country:"Solomon Islands",courier:"Solomon Post",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/solomon-islands.html"},{matches:"SO",country:"Somalia",courier:"Somali Post",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/somalia.html"},{matches:"ZA",country:"South Africa",courier:"South African Post Office",courier_url:"http://www.postoffice.co.za/ContactUs/postalcode.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/south-africa.html"},{matches:"SS",country:"South Sudan (Rep.)",courier:"Minister of Telecommunication and Postal Services",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/south-sudan-rep.html"},{matches:"ES",country:"Spain",courier:"Correos y Telégrafos",courier_url:"http://www.correos.es/ss/Satellite/site/pagina-buscador_codigos_postales/sidioma=es_ES",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/spain.html"},{matches:"LK",country:"Sri Lanka",courier:"Sri Lanka Post",courier_url:"http://www.slpost.gov.lk/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/sri-lanka.html"},{matches:"SD",country:"Sudan",courier:"Sudapost",courier_url:"http://sudapost.sd/index.php/en/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/sudan.html"},{matches:"SR",country:"Suriname",courier:"SURPOST",courier_url:"http://www.surpost.com/surpost2/index.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/suriname.html"},{matches:"SZ",country:"Swaziland",courier:"Swaziland Posts & Telecommunications Corporation",courier_url:"http://www.sptc.co.sz/swazipost/codes.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/swaziland.html"},{matches:"SE",country:"Sweden",courier:"Posten Sweden Post",courier_url:"http://www.posten.se/oldurls/old_postnummersok.jspv",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/sweden.html"},{matches:"CH",country:"Switzerland",courier:"La Poste Suisse",courier_url:"http://www.swisspost.ch/post-startseite.htm",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/switzerland.html"},{matches:"SY",country:"Syrian Arab Rep.",courier:"Syrian Post",courier_url:"http://www.syrianpost.gov.sy/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/syrian-arab-rep.html"},{matches:"TJ",country:"Tajikistan",courier:"Tajikistan’s communications service agency",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/tajikistan.html"},{matches:"TZ",country:"Tanzania (United Rep.)",courier:"Tanzania Posts Corporation",courier_url:"http://www.posta.co.tz/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/tanzania-united-rep.html"},{matches:"TH",country:"Thailand",courier:"Thailand Post",courier_url:"http://www.thailandpost.com/search.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/thailand.html"},{matches:"MK",country:"The former Yugoslav Republic of Macedonia",courier:"Macedonian Post & Telecommunications",courier_url:"http://www.posta.mk/pravilno_adresiranje.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/the-former-yugoslav-republic-of-macedonia.html"},{matches:"TL",country:"Timor-Leste (Dem. Rep.)",courier:"Correios de Timor Leste",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/timor-leste-dem-rep.html"},{matches:"TG",country:"Togo",courier:"La Poste du Togo",courier_url:"http://www.laposte.tg/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/togo.html"},{matches:"TO",country:"Tonga (including Niuafo'ou)",courier:"Tonga Post",courier_url:"http://tongapost.to/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/tonga-including-niuafoou.html"},{matches:"TT",country:"Trinidad and Tobago",courier:"Trinidad and Tobago Postal Corporation",courier_url:"http://www.ttpost.net/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/trinidad-and-tobago.html"},{matches:"TN",country:"Tunisia",courier:"La Poste Tunisienne",courier_url:"http://www.poste.tn/codes.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/tunisia.html"},{matches:"TR",country:"Turkey",courier:"Turkey Post",courier_url:"http://postakodu.ptt.gov.tr/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/turkey.html"},{matches:"TM",country:"Turkmenistan",courier:"Turkmenpost",courier_url:"http://www.turkmenpost.gov.tm/about_index.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/turkmenistan.html"},{matches:"TV",country:"Tuvalu",courier:"Tuvalu Philatelic Bureau",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/tuvalu.html"},{matches:"UG",country:"Uganda",courier:"Posta Uganda",courier_url:"http://www.ugapost.co.ug/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/uganda.html"},{matches:"UA",country:"Ukraine",courier:"Ukrposhta",courier_url:"http://services.ukrposhta.com/postindex_new/default.aspx?lang=en",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/ukraine.html"},{matches:"AE",country:"United Arab Emirates",courier:"Emirates Post",courier_url:"http://www.emiratespost.com/content/english/index.jsp;jsessionid=35fbe352a6c441a491929d81d54fa0c6",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/united-arab-emirates.html"},{matches:"US",country:"United States of America",courier:"United States Postal Service",courier_url:"http://zip4.usps.com/zip4/welcome.jsp",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/united-states-of-america.html"},{matches:"UY",country:"Uruguay",courier:"Correo Uruguayo",courier_url:"http://www.correo.com.uy/index.asp?codPag=codPost&switchMapa=codPost",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/uruguay.html"},{matches:"UZ",country:"Uzbekistan",courier:"Post of Uzbekistan",courier_url:"http://www.pochta.uz/index.php/en/postal-indexes/9",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/uzbekistan.html"},{matches:"VU",country:"Vanuatu",courier:"Vanuatu Post",courier_url:"http://www.vanuatupost.vu/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/vanuatu.html"},{matches:"VA",country:"Vatican",courier:"Vatican post",courier_url:"http://www.vaticanstate.va/EN/Services/Philatelic_and_Numismatic_Office/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/vatican.html"},{matches:"VE",country:"Venezuela",courier:"IPOSTEL – Instituto Postal Telegráfico de Venezuela",courier_url:"http://www.ipostel.gob.ve/nlinea/codigo_postal.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/venezuela.html"},{matches:"VN",country:"Viet Nam",courier:"VNPT – Vietnam Posts and Telecommunications Group",courier_url:"http://postcode.vnpost.vn/services/search.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/viet-nam.html"},{matches:"YE",country:"Yemen",courier:"Yemen Post",courier_url:"http://www.post.ye/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/yemen.html"},{matches:"ZM",country:"Zambia",courier:"Zambia Postal Services Corporation (ZAMPOST)",courier_url:"http://www.zampost.com.zm/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/zambia.html"},{matches:"ZW",country:"Zimbabwe",courier:"Zimpost – Zimbabwe Posts",courier_url:"http://www.zimpost.co.zw/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/zimbabwe.html"}]}]}],ca={name:ua,courier_code:oa,tracking_numbers:sa},la="UPS",pa="ups",ha=[{name:"UPS",id:"ups",regex:["\\s*1\\s*Z\\s*(?<SerialNumber>","(?<ShipperId>(?:[A-Z0-9]\\s*){6,6})","(?<ServiceType>(?:[A-Z0-9]\\s*){2,2})","(?<PackageId>(?:[A-Z0-9]\\s*){7,7}))","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2}},tracking_url:"https://wwwapps.ups.com/WebTracking/track?track=yes&trackNums=%s",additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"01",name:"UPS United States Next Day Air (Red)"},{matches:"02",name:"UPS United States Second Day Air (Blue)"},{matches:"03",name:"UPS United States Ground"},{matches:"12",name:"UPS United States Third Day Select"},{matches:"13",name:"UPS United States Next Day Air Saver (Red Saver)"},{matches:"15",name:"UPS United States Next Day Air Early A.M."},{matches:"22",name:"UPS United States Ground - Returns Plus - Three Pickup Attempts"},{matches:"32",name:"UPS United States Next Day Air Early A.M. - COD"},{matches:"33",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery, COD"},{matches:"41",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery"},{matches:"42",name:"UPS United States Ground - Signature Required"},{matches:"44",name:"UPS United States Next Day Air - Saturday Delivery"},{matches:"66",name:"UPS United States Worldwide Express"},{matches:"72",name:"UPS United States Ground - Collect on Delivery"},{matches:"78",name:"UPS United States Ground - Returns Plus - One Pickup Attempt"},{matches:"90",name:"UPS United States Ground - Returns - UPS Prints and Mails Label"},{matches:"A0",name:"UPS United States Next Day Air Early A.M. - Adult Signature Required"},{matches:"A1",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery, Adult Signature Required"},{matches:"A2",name:"UPS United States Next Day Air - Adult Signature Required"},{matches:"A8",name:"UPS United States Ground - Adult Signature Required"},{matches:"A9",name:"UPS United States Next Day Air Early A.M. - Adult Signature Required, COD"},{matches:"AA",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery, Adult Signature Required, COD"},{matches:"YW",name:"UPS SurePost - Delivered by the USPS"}]}],test_numbers:{valid:["1Z5R89390357567127","1Z879E930346834440","1Z410E7W0392751591","1Z8V92A70367203024"," 1 Z 8 V 9 2 A 7 0 3 6 7 2 0 3 0 2 4 ","1ZXX3150YW44070023"],invalid:["2Z5R89390357567127","1A5R89390357567127","1Z1111111111111111"]}},{name:"UPS Waybill",regex:["\\s*(?<ServiceType>([AHJKTV]\\s*){1})","(?<SerialNumber>(?:[0-9]\\s*){9})","(?<CheckDigit>[0-9]\\s*){1}"],validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2}},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"J",name:"UPS Next Day Express"},{matches:"K",name:"UPS Ground"},{matches:"V",name:"UPS WorldWide Express Saver"}]}],tracking_url:"https://wwwapps.ups.com/WebTracking/track?track=yes&trackNums=%s",test_numbers:{valid:["K1506235620","K 150 623 562 0","K2479825491","J4603636537","V0490119172","V0431105627"],invalid:["K1506235622","K2479825492","J4603636538","V0411335627","V0423305841"]}}],da={name:la,courier_code:pa,tracking_numbers:ha},ma="United States Postal Service",fa="usps",wa=[{tracking_url:"https://tools.usps.com/go/TrackConfirmAction?tLabels=%s",name:"USPS 20",id:"usps_20",description:"20 digit USPS numbers",regex:["\\s*(?<SerialNumber>","(?<ServiceType>([0-9]\\s*){2})","(?<ShipperId>([0-9]\\s*){9})","(?<PackageId>([0-9]\\s*){8})",")","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1}},test_numbers:{valid:["0307 1790 0005 2348 3741"," 0 3 0 7   1 7 9 0   0 0 0 5   2 3 4 8   3 7 4 1 ","7112 3456 7891 2345 6787"],invalid:["0307 1790 0005 2348 3742"]},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"71",name:"Certified Mail"},{matches:"73",name:"Insured Mail"},{matches:"77",name:"Registered Mail"},{matches:"81",name:"Return Receipt For Merchanise"}]}]},{name:"USPS 34v2",id:"usps_32V2",description:"variation on 34 digit USPS IMpd numbers",regex:["\\s*(?<RoutingApplicationId>4\\s*2\\s*0\\s*)(?<DestinationZip>([0-9]\\s*){5})","(?<RoutingNumber>([0-9]\\s*){4})","(?<SerialNumber>","(?<ApplicationIdentifier>9\\s*[2345]\\s*)?","(?<ShipperId>([0-9]\\s*){8})","(?<PackageId>([0-9]\\s*){11})",")","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1}},tracking_url:"https://tools.usps.com/go/TrackConfirmAction?tLabels=%s",test_numbers:{valid:["4201002334249200190132607600833457","4201028200009261290113185417468510"," 4 2 0 1 0 2 8 2 0 0 0 0 9 2 6 1 2 9 0 1 1 3 1 8 5 4 1 7 4 6 8 5 1 0 "],invalid:["4201028200009261290113185417468511"]}},{name:"USPS 91",id:"usps_91",description:"USPS now calls this the IMpd barcode format",regex:["\\s*(?:(?<RoutingApplicationId>4\\s*2\\s*0\\s*)(?<DestinationZip>([0-9]\\s*){5}))?","(?<SerialNumber>","(?<ApplicationIdentifier>9\\s*[12345]\\s*)?","(?<SCNC>([0-9]\\s*){2})","(?<ServiceType>([0-9]\\s*){2})","(?<ShipperId>([0-9]\\s*){8})","(?<PackageId>([0-9]\\s*){11}|([0-9]\\s*){7})",")","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1},serial_number_format:{prepend_if:{matches_regex:"^(?!9[1-5]).+",content:"91"}}},partners:[{description:"FedEx SmartPost uses USPS for last mile delivery, but not all USPS91 numbers are SmartPosts",partner_type:"shipper",partner_id:"fedex_smartpost",validation:{matches_all:[{regex_group_name:"ServiceType",matches:"29"},{matches:"61",regex_group_name:"SCNC"}]}}],tracking_url:"https://tools.usps.com/go/TrackConfirmAction?tLabels=%s",test_numbers:{valid:["420 22153 9101026837331000039521","7196 9010 7560 0307 7385","9505 5110 6960 5048 6006 24","9101 1234 5678 9000 0000 13","92748931507708513018050063","92001903060085300042901077","9400 1112 0108 0805 4830 16","9361 2898 7870 0317 6337 95","9405803699300124287899"],invalid:["61299998820821171811","9200000000000000000000","420000000000000000000000000000","420000009200000000000000000000"]},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"11",name:"First Class (R)"},{matches:"29",name:"Fedex Smart Post"}]}]}],ga={name:ma,courier_code:fa,tracking_numbers:wa};var ya=function(){return!1};const va=ya;var _a=function(){return!0};const ba=_a,xa={"@@functional/placeholder":!0};function N(r){return r!=null&&typeof r=="object"&&r["@@functional/placeholder"]===!0}function f(r){return function e(t){return arguments.length===0||N(t)?e:r.apply(this,arguments)}}function o(r){return function e(t,n){switch(arguments.length){case 0:return e;case 1:return N(t)?e:f(function(i){return r(t,i)});default:return N(t)&&N(n)?e:N(t)?f(function(i){return r(i,n)}):N(n)?f(function(i){return r(t,i)}):r(t,n)}}}var Sa=o(function(e,t){return Number(e)+Number(t)});const ut=Sa;function he(r,e){r=r||[],e=e||[];var t,n=r.length,i=e.length,a=[];for(t=0;t<n;)a[a.length]=r[t],t+=1;for(t=0;t<i;)a[a.length]=e[t],t+=1;return a}function de(r,e){switch(r){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,i){return e.apply(this,arguments)};case 4:return function(t,n,i,a){return e.apply(this,arguments)};case 5:return function(t,n,i,a,u){return e.apply(this,arguments)};case 6:return function(t,n,i,a,u,c){return e.apply(this,arguments)};case 7:return function(t,n,i,a,u,c,l){return e.apply(this,arguments)};case 8:return function(t,n,i,a,u,c,l,m){return e.apply(this,arguments)};case 9:return function(t,n,i,a,u,c,l,m,_){return e.apply(this,arguments)};case 10:return function(t,n,i,a,u,c,l,m,_,p){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function Ue(r,e,t){return function(){for(var n=[],i=0,a=r,u=0;u<e.length||i<arguments.length;){var c;u<e.length&&(!N(e[u])||i>=arguments.length)?c=e[u]:(c=arguments[i],i+=1),n[u]=c,N(c)||(a-=1),u+=1}return a<=0?t.apply(this,n):de(a,Ue(r,n,t))}}var Pa=o(function(e,t){return e===1?f(t):de(e,Ue(e,[],t))});const K=Pa;var ka=f(function(e){return K(e.length,function(){var t=0,n=arguments[0],i=arguments[arguments.length-1],a=Array.prototype.slice.call(arguments,0);return a[0]=function(){var u=n.apply(this,he(arguments,[t,i]));return t+=1,u},e.apply(this,a)})});const Ca=ka;function S(r){return function e(t,n,i){switch(arguments.length){case 0:return e;case 1:return N(t)?e:o(function(a,u){return r(t,a,u)});case 2:return N(t)&&N(n)?e:N(t)?o(function(a,u){return r(a,n,u)}):N(n)?o(function(a,u){return r(t,a,u)}):f(function(a){return r(t,n,a)});default:return N(t)&&N(n)&&N(i)?e:N(t)&&N(n)?o(function(a,u){return r(a,u,i)}):N(t)&&N(i)?o(function(a,u){return r(a,n,u)}):N(n)&&N(i)?o(function(a,u){return r(t,a,u)}):N(t)?f(function(a){return r(a,n,i)}):N(n)?f(function(a){return r(t,a,i)}):N(i)?f(function(a){return r(t,n,a)}):r(t,n,i)}}}var Aa=S(function(e,t,n){if(e>=n.length||e<-n.length)return n;var i=e<0?n.length:0,a=i+e,u=he(n);return u[a]=t(n[a]),u});const _r=Aa,le=Array.isArray||function(e){return e!=null&&e.length>=0&&Object.prototype.toString.call(e)==="[object Array]"};function jt(r){return r!=null&&typeof r["@@transducer/step"]=="function"}function z(r,e,t){return function(){if(arguments.length===0)return t();var n=Array.prototype.slice.call(arguments,0),i=n.pop();if(!le(i)){for(var a=0;a<r.length;){if(typeof i[r[a]]=="function")return i[r[a]].apply(i,n);a+=1}if(jt(i)){var u=e.apply(null,n);return u(i)}}return t.apply(this,arguments)}}function ve(r){return r&&r["@@transducer/reduced"]?r:{"@@transducer/value":r,"@@transducer/reduced":!0}}const E={init:function(){return this.xf["@@transducer/init"]()},result:function(r){return this.xf["@@transducer/result"](r)}};var Ia=function(){function r(e,t){this.xf=t,this.f=e,this.all=!0}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=function(e){return this.all&&(e=this.xf["@@transducer/step"](e,!0)),this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){return this.f(t)||(this.all=!1,e=ve(this.xf["@@transducer/step"](e,!1))),e},r}(),$a=o(function(e,t){return new Ia(e,t)}),Ta=o(z(["all"],$a,function(e,t){for(var n=0;n<t.length;){if(!e(t[n]))return!1;n+=1}return!0}));const br=Ta;var La=o(function(e,t){return t>e?t:e});const Oe=La;function Ie(r,e){for(var t=0,n=e.length,i=Array(n);t<n;)i[t]=r(e[t]),t+=1;return i}function Te(r){return Object.prototype.toString.call(r)==="[object String]"}var Fe=f(function(e){return le(e)?!0:!e||typeof e!="object"||Te(e)?!1:e.nodeType===1?!!e.length:e.length===0?!0:e.length>0?e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1):!1}),Da=function(){function r(e){this.f=e}return r.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},r.prototype["@@transducer/result"]=function(e){return e},r.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},r}();function xr(r){return new Da(r)}var ja=o(function(e,t){return de(e.length,function(){return e.apply(t,arguments)})});const Sr=ja;function Oa(r,e,t){for(var n=0,i=t.length;n<i;){if(e=r["@@transducer/step"](e,t[n]),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n+=1}return r["@@transducer/result"](e)}function Jt(r,e,t){for(var n=t.next();!n.done;){if(e=r["@@transducer/step"](e,n.value),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n=t.next()}return r["@@transducer/result"](e)}function Qt(r,e,t,n){return r["@@transducer/result"](t[n](Sr(r["@@transducer/step"],r),e))}var Yt=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function Y(r,e,t){if(typeof r=="function"&&(r=xr(r)),Fe(t))return Oa(r,e,t);if(typeof t["fantasy-land/reduce"]=="function")return Qt(r,e,t,"fantasy-land/reduce");if(t[Yt]!=null)return Jt(r,e,t[Yt]());if(typeof t.next=="function")return Jt(r,e,t);if(typeof t.reduce=="function")return Qt(r,e,t,"reduce");throw new TypeError("reduce: list must be array or iterable")}var Ea=function(){function r(e,t){this.xf=t,this.f=e}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=E.result,r.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},r}(),Ba=o(function(e,t){return new Ea(e,t)});function V(r,e){return Object.prototype.hasOwnProperty.call(e,r)}var er=Object.prototype.toString,Pr=function(){return er.call(arguments)==="[object Arguments]"?function(e){return er.call(e)==="[object Arguments]"}:function(e){return V("callee",e)}}(),Na=!{toString:null}.propertyIsEnumerable("toString"),tr=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],rr=function(){return arguments.propertyIsEnumerable("length")}(),Ra=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},Wa=f(typeof Object.keys=="function"&&!rr?function(e){return Object(e)!==e?[]:Object.keys(e)}:function(e){if(Object(e)!==e)return[];var t,n,i=[],a=rr&&Pr(e);for(t in e)V(t,e)&&(!a||t!=="length")&&(i[i.length]=t);if(Na)for(n=tr.length-1;n>=0;)t=tr[n],V(t,e)&&!Ra(i,t)&&(i[i.length]=t),n-=1;return i});const re=Wa;var ue=o(z(["fantasy-land/map","map"],Ba,function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return K(t.length,function(){return e.call(this,t.apply(this,arguments))});case"[object Object]":return Y(function(n,i){return n[i]=e(t[i]),n},{},re(t));default:return Ie(e,t)}}));const be=Number.isInteger||function(e){return e<<0===e};var Ee=o(function(e,t){var n=e<0?t.length+e:e;return Te(t)?t.charAt(n):t[n]}),Ma=o(function(e,t){return e.map(function(n){for(var i=t,a=0,u;a<n.length;){if(i==null)return;u=n[a],i=be(u)?Ee(u,i):i[u],a+=1}return i})});const kr=Ma;var qa=o(function(e,t){return kr([e],t)[0]});const Pe=qa;var za=o(function(e,t){return Pe([e],t)});const Ot=za;var Ua=o(function(e,t){return ue(Ot(e),t)});const Ge=Ua;var me=S(Y),Fa=f(function(e){return K(me(Oe,0,Ge("length",e)),function(){for(var t=0,n=e.length;t<n;){if(!e[t].apply(this,arguments))return!1;t+=1}return!0})});const Ga=Fa;var Ka=f(function(e){return function(){return e}});const ot=Ka;var Za=o(function(e,t){return e&&t});const Cr=Za;var Va=function(){function r(e,t){this.xf=t,this.f=e,this.any=!1}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=function(e){return this.any||(e=this.xf["@@transducer/step"](e,!1)),this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.any=!0,e=ve(this.xf["@@transducer/step"](e,!0))),e},r}(),Ha=o(function(e,t){return new Va(e,t)}),Xa=o(z(["any"],Ha,function(e,t){for(var n=0;n<t.length;){if(e(t[n]))return!0;n+=1}return!1}));const Ja=Xa;var Qa=f(function(e){return K(me(Oe,0,Ge("length",e)),function(){for(var t=0,n=e.length;t<n;){if(e[t].apply(this,arguments))return!0;t+=1}return!1})});const Ya=Qa;var eu=o(function(e,t){return typeof t["fantasy-land/ap"]=="function"?t["fantasy-land/ap"](e):typeof e.ap=="function"?e.ap(t):typeof e=="function"?function(n){return e(n)(t(n))}:Y(function(n,i){return he(n,ue(i,t))},[],e)});const Et=eu;function tu(r,e){for(var t=0,n=e.length-(r-1),i=new Array(n>=0?n:0);t<n;)i[t]=Array.prototype.slice.call(e,t,t+r),t+=1;return i}var ru=function(){function r(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(e)}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){return this.store(t),this.full?this.xf["@@transducer/step"](e,this.getCopy()):e},r.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},r.prototype.getCopy=function(){return he(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},r}(),nu=o(function(e,t){return new ru(e,t)}),iu=o(z([],nu,tu));const au=iu;var uu=o(function(e,t){return he(t,[e])});const ou=uu;var su=o(function(e,t){return e.apply(this,t)});const Ar=su;var cu=f(function(e){for(var t=re(e),n=t.length,i=[],a=0;a<n;)i[a]=e[t[a]],a+=1;return i});const Ir=cu;function nr(r,e){return re(e).reduce(function(t,n){return t[n]=r(e[n]),t},{})}var lu=f(function r(e){return e=nr(function(t){return typeof t=="function"?t:r(t)},e),K(me(Oe,0,Ge("length",Ir(e))),function(){var t=arguments;return nr(function(n){return Ar(n,t)},e)})});const pu=lu;var hu=o(function(e,t){return t(e)});const du=hu;var mu=S(function(e,t,n){var i=e(t),a=e(n);return i<a?-1:i>a?1:0});const fu=mu;var wu=S(function(e,t,n){var i={};for(var a in n)i[a]=n[a];return i[e]=t,i});const st=wu;var gu=f(function(e){return e==null});const Ye=gu;var yu=S(function r(e,t,n){if(e.length===0)return t;var i=e[0];if(e.length>1){var a=!Ye(n)&&V(i,n)?n[i]:be(e[1])?[]:{};t=r(Array.prototype.slice.call(e,1),t,a)}if(be(i)&&le(n)){var u=[].concat(n);return u[i]=t,u}else return st(i,t,n)});const $r=yu;var vu=o(function(e,t){switch(e){case 0:return function(){return t.call(this)};case 1:return function(n){return t.call(this,n)};case 2:return function(n,i){return t.call(this,n,i)};case 3:return function(n,i,a){return t.call(this,n,i,a)};case 4:return function(n,i,a,u){return t.call(this,n,i,a,u)};case 5:return function(n,i,a,u,c){return t.call(this,n,i,a,u,c)};case 6:return function(n,i,a,u,c,l){return t.call(this,n,i,a,u,c,l)};case 7:return function(n,i,a,u,c,l,m){return t.call(this,n,i,a,u,c,l,m)};case 8:return function(n,i,a,u,c,l,m,_){return t.call(this,n,i,a,u,c,l,m,_)};case 9:return function(n,i,a,u,c,l,m,_,p){return t.call(this,n,i,a,u,c,l,m,_,p)};case 10:return function(n,i,a,u,c,l,m,_,p,k){return t.call(this,n,i,a,u,c,l,m,_,p,k)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}});const ct=vu;var _u=f(function(e){return ct(2,e)});const bu=_u;function Le(r){var e=Object.prototype.toString.call(r);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object AsyncGeneratorFunction]"}var xu=o(function(e,t){var n=K(e,t);return K(e,function(){return Y(Et,ue(n,arguments[0]),Array.prototype.slice.call(arguments,1))})});const Tr=xu;var lt=f(function(e){return Tr(e.length,e)}),Su=o(function(e,t){return Le(e)?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:lt(Cr)(e,t)});const Pu=Su;var Bt=f(function(e){return K(e.length,e)}),ku=Bt(function(e){return e.apply(this,Array.prototype.slice.call(arguments,1))});const Cu=ku;function Lr(r){return function e(t){for(var n,i,a,u=[],c=0,l=t.length;c<l;){if(Fe(t[c]))for(n=r?e(t[c]):t[c],a=0,i=n.length;a<i;)u[u.length]=n[a],a+=1;else u[u.length]=t[c];c+=1}return u}}function Au(r){return{"@@transducer/value":r,"@@transducer/reduced":!0}}var Iu=function(r){return{"@@transducer/init":E.init,"@@transducer/result":function(e){return r["@@transducer/result"](e)},"@@transducer/step":function(e,t){var n=r["@@transducer/step"](e,t);return n["@@transducer/reduced"]?Au(n):n}}},$u=function(e){var t=Iu(e);return{"@@transducer/init":E.init,"@@transducer/result":function(n){return t["@@transducer/result"](n)},"@@transducer/step":function(n,i){return Fe(i)?Y(t,n,i):Y(t,n,[i])}}},Tu=o(function(e,t){return ue(e,$u(t))}),Lu=o(z(["fantasy-land/chain","chain"],Tu,function(e,t){return typeof t=="function"?function(n){return e(t(n))(n)}:Lr(!1)(ue(e,t))}));const Nt=Lu;var Du=S(function(e,t,n){if(e>t)throw new Error("min must not be greater than max in clamp(min, max, value)");return n<e?e:n>t?t:n});const ju=Du;function Dr(r){return new RegExp(r.source,(r.global?"g":"")+(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.sticky?"y":"")+(r.unicode?"u":""))}var Ou=f(function(e){return e===null?"Null":e===void 0?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});const et=Ou;function pt(r,e,t,n){var i=function(u){for(var c=e.length,l=0;l<c;){if(r===e[l])return t[l];l+=1}e[l+1]=r,t[l+1]=u;for(var m in r)u[m]=n?pt(r[m],e,t,!0):r[m];return u};switch(et(r)){case"Object":return i({});case"Array":return i([]);case"Date":return new Date(r.valueOf());case"RegExp":return Dr(r);default:return r}}var Eu=f(function(e){return e!=null&&typeof e.clone=="function"?e.clone():pt(e,[],[],!0)});const Bu=Eu;var Nu=f(function(e){return function(t,n){return e(t,n)?-1:e(n,t)?1:0}});const Ru=Nu;var Wu=f(function(e){return!e});const jr=Wu;var Mu=lt(jr);const qu=Mu;function zu(r,e){return function(){return e.call(this,r.apply(this,arguments))}}function Ke(r,e){return function(){var t=arguments.length;if(t===0)return e();var n=arguments[t-1];return le(n)||typeof n[r]!="function"?e.apply(this,arguments):n[r].apply(n,Array.prototype.slice.call(arguments,0,t-1))}}var ae=S(Ke("slice",function(e,t,n){return Array.prototype.slice.call(n,e,t)})),ht=f(Ke("tail",ae(1,1/0)));function Or(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return de(arguments[0].length,me(zu,arguments[0],ht(arguments)))}var Ze=f(function(e){return Te(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()});function tt(){if(arguments.length===0)throw new Error("compose requires at least one argument");return Or.apply(this,Ze(arguments))}function Er(){if(arguments.length===0)throw new Error("composeK requires at least one argument");var r=Array.prototype.slice.call(arguments),e=r.pop();return tt(tt.apply(this,ue(Nt,r)),e)}function Uu(r,e){return function(){var t=this;return r.apply(t,arguments).then(function(n){return e.call(t,n)})}}function Br(){if(arguments.length===0)throw new Error("pipeP requires at least one argument");return de(arguments[0].length,me(Uu,arguments[0],ht(arguments)))}function Fu(){if(arguments.length===0)throw new Error("composeP requires at least one argument");return Br.apply(this,Ze(arguments))}var Gu=Ee(0);const Nr=Gu;function Ve(r){return r}var Ku=f(Ve);const dt=Ku;var Zu=o(function(e,t){if(t.length<=0)return dt;var n=Nr(t),i=ht(t);return de(n.length,function(){return Y(function(a,u){return e.call(this,u,a)},n.apply(this,arguments),i)})});const Rr=Zu;var Vu=o(function(e,t){return Rr.apply(this,[e,Ze(t)])});const Hu=Vu;function ir(r){for(var e=[],t;!(t=r.next()).done;)e.push(t.value);return e}function De(r,e,t){for(var n=0,i=t.length;n<i;){if(r(e,t[n]))return!0;n+=1}return!1}function Xu(r){var e=String(r).match(/^function (\w*)/);return e==null?"":e[1]}function Ju(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}const Qe=typeof Object.is=="function"?Object.is:Ju;function ar(r,e,t,n){var i=ir(r),a=ir(e);function u(c,l){return Rt(c,l,t.slice(),n.slice())}return!De(function(c,l){return!De(u,l,c)},a,i)}function Rt(r,e,t,n){if(Qe(r,e))return!0;var i=et(r);if(i!==et(e)||r==null||e==null)return!1;if(typeof r["fantasy-land/equals"]=="function"||typeof e["fantasy-land/equals"]=="function")return typeof r["fantasy-land/equals"]=="function"&&r["fantasy-land/equals"](e)&&typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](r);if(typeof r.equals=="function"||typeof e.equals=="function")return typeof r.equals=="function"&&r.equals(e)&&typeof e.equals=="function"&&e.equals(r);switch(i){case"Arguments":case"Array":case"Object":if(typeof r.constructor=="function"&&Xu(r.constructor)==="Promise")return r===e;break;case"Boolean":case"Number":case"String":if(!(typeof r==typeof e&&Qe(r.valueOf(),e.valueOf())))return!1;break;case"Date":if(!Qe(r.valueOf(),e.valueOf()))return!1;break;case"Error":return r.name===e.name&&r.message===e.message;case"RegExp":if(!(r.source===e.source&&r.global===e.global&&r.ignoreCase===e.ignoreCase&&r.multiline===e.multiline&&r.sticky===e.sticky&&r.unicode===e.unicode))return!1;break}for(var a=t.length-1;a>=0;){if(t[a]===r)return n[a]===e;a-=1}switch(i){case"Map":return r.size!==e.size?!1:ar(r.entries(),e.entries(),t.concat([r]),n.concat([e]));case"Set":return r.size!==e.size?!1:ar(r.values(),e.values(),t.concat([r]),n.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var u=re(r);if(u.length!==re(e).length)return!1;var c=t.concat([r]),l=n.concat([e]);for(a=u.length-1;a>=0;){var m=u[a];if(!(V(m,e)&&Rt(e[m],r[m],c,l)))return!1;a-=1}return!0}var Qu=o(function(e,t){return Rt(e,t,[],[])});const ne=Qu;function Wr(r,e,t){var n,i;if(typeof r.indexOf=="function")switch(typeof e){case"number":if(e===0){for(n=1/e;t<r.length;){if(i=r[t],i===0&&1/i===n)return t;t+=1}return-1}else if(e!==e){for(;t<r.length;){if(i=r[t],typeof i=="number"&&i!==i)return t;t+=1}return-1}return r.indexOf(e,t);case"string":case"boolean":case"function":case"undefined":return r.indexOf(e,t);case"object":if(e===null)return r.indexOf(e,t)}for(;t<r.length;){if(ne(r[t],e))return t;t+=1}return-1}function xe(r,e){return Wr(e,r,0)>=0}function St(r){var e=r.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+e.replace(/"/g,'\\"')+'"'}var qe=function(e){return(e<10?"0":"")+e},Yu=typeof Date.prototype.toISOString=="function"?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+qe(e.getUTCMonth()+1)+"-"+qe(e.getUTCDate())+"T"+qe(e.getUTCHours())+":"+qe(e.getUTCMinutes())+":"+qe(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function Mr(r){return function(){return!r.apply(this,arguments)}}function Wt(r,e){for(var t=0,n=e.length,i=[];t<n;)r(e[t])&&(i[i.length]=e[t]),t+=1;return i}function rt(r){return Object.prototype.toString.call(r)==="[object Object]"}var eo=function(){function r(e,t){this.xf=t,this.f=e}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=E.result,r.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},r}(),to=o(function(e,t){return new eo(e,t)}),ro=o(z(["filter"],to,function(r,e){return rt(e)?Y(function(t,n){return r(e[n])&&(t[n]=e[n]),t},{},re(e)):Wt(r,e)}));const Mt=ro;var no=o(function(e,t){return Mt(Mr(e),t)});const mt=no;function qt(r,e){var t=function(u){var c=e.concat([r]);return xe(u,c)?"<Circular>":qt(u,c)},n=function(a,u){return Ie(function(c){return St(c)+": "+t(a[c])},u.slice().sort())};switch(Object.prototype.toString.call(r)){case"[object Arguments]":return"(function() { return arguments; }("+Ie(t,r).join(", ")+"))";case"[object Array]":return"["+Ie(t,r).concat(n(r,mt(function(a){return/^\d+$/.test(a)},re(r)))).join(", ")+"]";case"[object Boolean]":return typeof r=="object"?"new Boolean("+t(r.valueOf())+")":r.toString();case"[object Date]":return"new Date("+(isNaN(r.valueOf())?t(NaN):St(Yu(r)))+")";case"[object Null]":return"null";case"[object Number]":return typeof r=="object"?"new Number("+t(r.valueOf())+")":1/r===-1/0?"-0":r.toString(10);case"[object String]":return typeof r=="object"?"new String("+t(r.valueOf())+")":St(r);case"[object Undefined]":return"undefined";default:if(typeof r.toString=="function"){var i=r.toString();if(i!=="[object Object]")return i}return"{"+n(r,re(r)).join(", ")+"}"}}var io=f(function(e){return qt(e,[])});const $e=io;var ao=o(function(e,t){if(le(e)){if(le(t))return e.concat(t);throw new TypeError($e(t)+" is not an array")}if(Te(e)){if(Te(t))return e+t;throw new TypeError($e(t)+" is not a string")}if(e!=null&&Le(e["fantasy-land/concat"]))return e["fantasy-land/concat"](t);if(e!=null&&Le(e.concat))return e.concat(t);throw new TypeError($e(e)+' does not have a method named "concat" or "fantasy-land/concat"')});const zt=ao;var uo=f(function(e){var t=me(Oe,0,ue(function(n){return n[0].length},e));return de(t,function(){for(var n=0;n<e.length;){if(e[n][0].apply(this,arguments))return e[n][1].apply(this,arguments);n+=1}})});const oo=uo;var so=o(function(e,t){if(e>10)throw new Error("Constructor with greater than ten arguments");return e===0?function(){return new t}:Bt(ct(e,function(n,i,a,u,c,l,m,_,p,k){switch(arguments.length){case 1:return new t(n);case 2:return new t(n,i);case 3:return new t(n,i,a);case 4:return new t(n,i,a,u);case 5:return new t(n,i,a,u,c);case 6:return new t(n,i,a,u,c,l);case 7:return new t(n,i,a,u,c,l,m);case 8:return new t(n,i,a,u,c,l,m,_);case 9:return new t(n,i,a,u,c,l,m,_,p);case 10:return new t(n,i,a,u,c,l,m,_,p,k)}}))});const qr=so;var co=f(function(e){return qr(e.length,e)});const lo=co;var po=o(xe);const ho=po;var mo=o(function(e,t){return K(me(Oe,0,Ge("length",t)),function(){var n=arguments,i=this;return e.apply(i,Ie(function(a){return a.apply(i,n)},t))})});const zr=mo;var fo=function(){function r(e,t,n,i){this.valueFn=e,this.valueAcc=t,this.keyFn=n,this.xf=i,this.inputs={}}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=function(e){var t;for(t in this.inputs)if(V(t,this.inputs)&&(e=this.xf["@@transducer/step"](e,this.inputs[t]),e["@@transducer/reduced"])){e=e["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){var n=this.keyFn(t);return this.inputs[n]=this.inputs[n]||[n,this.valueAcc],this.inputs[n][1]=this.valueFn(this.inputs[n][1],t),e},r}(),wo=Ue(4,[],function(e,t,n,i){return new fo(e,t,n,i)}),ft=Ue(4,[],z([],wo,function(e,t,n,i){return Y(function(a,u){var c=n(u);return a[c]=e(V(c,a)?a[c]:pt(t,[],[],!1),u),a},{},i)})),go=ft(function(r,e){return r+1},0);const yo=go;var vo=ut(-1);const _o=vo;var bo=o(function(e,t){return t==null||t!==t?e:t});const Ur=bo;var xo=S(function(e,t,n){var i=e(t),a=e(n);return i>a?-1:i<a?1:0});const So=xo;var Fr=function(){function r(){this._nativeSet=typeof Set=="function"?new Set:null,this._items={}}return r.prototype.add=function(e){return!ur(e,!0,this)},r.prototype.has=function(e){return ur(e,!1,this)},r}();function ur(r,e,t){var n=typeof r,i,a;switch(n){case"string":case"number":return r===0&&1/r===-1/0?t._items["-0"]?!0:(e&&(t._items["-0"]=!0),!1):t._nativeSet!==null?e?(i=t._nativeSet.size,t._nativeSet.add(r),a=t._nativeSet.size,a===i):t._nativeSet.has(r):n in t._items?r in t._items[n]?!0:(e&&(t._items[n][r]=!0),!1):(e&&(t._items[n]={},t._items[n][r]=!0),!1);case"boolean":if(n in t._items){var u=r?1:0;return t._items[n][u]?!0:(e&&(t._items[n][u]=!0),!1)}else return e&&(t._items[n]=r?[!1,!0]:[!0,!1]),!1;case"function":return t._nativeSet!==null?e?(i=t._nativeSet.size,t._nativeSet.add(r),a=t._nativeSet.size,a===i):t._nativeSet.has(r):n in t._items?xe(r,t._items[n])?!0:(e&&t._items[n].push(r),!1):(e&&(t._items[n]=[r]),!1);case"undefined":return t._items[n]?!0:(e&&(t._items[n]=!0),!1);case"object":if(r===null)return t._items.null?!0:(e&&(t._items.null=!0),!1);default:return n=Object.prototype.toString.call(r),n in t._items?xe(r,t._items[n])?!0:(e&&t._items[n].push(r),!1):(e&&(t._items[n]=[r]),!1)}}var Po=o(function(e,t){for(var n=[],i=0,a=e.length,u=t.length,c=new Fr,l=0;l<u;l+=1)c.add(t[l]);for(;i<a;)c.add(e[i])&&(n[n.length]=e[i]),i+=1;return n});const Ct=Po;var ko=S(function(e,t,n){for(var i=[],a=0,u=t.length;a<u;)!De(e,t[a],n)&&!De(e,t[a],i)&&i.push(t[a]),a+=1;return i});const At=ko;var Co=o(function(e,t){var n={};for(var i in t)n[i]=t[i];return delete n[e],n});const Gr=Co;var Ao=S(function(e,t,n){var i=Array.prototype.slice.call(n,0);return i.splice(e,t),i});const Kr=Ao;var Io=S(function(e,t,n){return _r(e,ot(t),n)});const Ut=Io;var $o=o(function r(e,t){switch(e.length){case 0:return t;case 1:return be(e[0])&&le(t)?Kr(e[0],1,t):Gr(e[0],t);default:var n=e[0],i=Array.prototype.slice.call(e,1);return t[n]==null?t:be(n)&&le(t)?Ut(n,r(i,t[n]),t):st(n,r(i,t[n]),t)}});const To=$o;var Lo=o(function(e,t){return e/t});const Do=Lo;var jo=function(){function r(e,t){this.xf=t,this.n=e}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=E.result,r.prototype["@@transducer/step"]=function(e,t){return this.n>0?(this.n-=1,e):this.xf["@@transducer/step"](e,t)},r}(),Oo=o(function(e,t){return new jo(e,t)}),Eo=o(z(["drop"],Oo,function(e,t){return ae(Math.max(0,e),1/0,t)}));const Zr=Eo;var Bo=function(){function r(e,t){this.xf=t,this.n=e,this.i=0}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=E.result,r.prototype["@@transducer/step"]=function(e,t){this.i+=1;var n=this.n===0?e:this.xf["@@transducer/step"](e,t);return this.n>=0&&this.i>=this.n?ve(n):n},r}(),No=o(function(e,t){return new Bo(e,t)}),Ro=o(z(["take"],No,function(e,t){return ae(0,e<0?1/0:e,t)}));const Ft=Ro;function Wo(r,e){return Ft(r<e.length?e.length-r:0,e)}var Mo=function(){function r(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(e)}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){return this.full&&(e=this.xf["@@transducer/step"](e,this.acc[this.pos])),this.store(t),e},r.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},r}(),qo=o(function(e,t){return new Mo(e,t)}),zo=o(z([],qo,Wo));const Uo=zo;function Fo(r,e){for(var t=e.length-1;t>=0&&r(e[t]);)t-=1;return ae(0,t+1,e)}var Go=function(){function r(e,t){this.f=e,this.retained=[],this.xf=t}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=function(e){return this.retained=null,this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.retain(e,t):this.flush(e,t)},r.prototype.flush=function(e,t){return e=Y(this.xf["@@transducer/step"],e,this.retained),this.retained=[],this.xf["@@transducer/step"](e,t)},r.prototype.retain=function(e,t){return this.retained.push(t),e},r}(),Ko=o(function(e,t){return new Go(e,t)}),Zo=o(z([],Ko,Fo));const Vo=Zo;var Ho=function(){function r(e,t){this.xf=t,this.pred=e,this.lastValue=void 0,this.seenFirstValue=!1}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=E.result,r.prototype["@@transducer/step"]=function(e,t){var n=!1;return this.seenFirstValue?this.pred(this.lastValue,t)&&(n=!0):this.seenFirstValue=!0,this.lastValue=t,n?e:this.xf["@@transducer/step"](e,t)},r}(),Vr=o(function(e,t){return new Ho(e,t)}),Xo=Ee(-1);const Hr=Xo;var Jo=o(z([],Vr,function(e,t){var n=[],i=1,a=t.length;if(a!==0)for(n[0]=t[0];i<a;)e(Hr(n),t[i])||(n[n.length]=t[i]),i+=1;return n}));const Xr=Jo;var Qo=f(z([],Vr(ne),Xr(ne)));const Yo=Qo;var es=function(){function r(e,t){this.xf=t,this.f=e}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=E.result,r.prototype["@@transducer/step"]=function(e,t){if(this.f){if(this.f(t))return e;this.f=null}return this.xf["@@transducer/step"](e,t)},r}(),ts=o(function(e,t){return new es(e,t)}),rs=o(z(["dropWhile"],ts,function(e,t){for(var n=0,i=t.length;n<i&&e(t[n]);)n+=1;return ae(n,1/0,t)}));const ns=rs;var is=o(function(e,t){return e||t});const Jr=is;var as=o(function(e,t){return Le(e)?function(){return e.apply(this,arguments)||t.apply(this,arguments)}:lt(Jr)(e,t)});const us=as;var os=f(function(e){return e!=null&&typeof e["fantasy-land/empty"]=="function"?e["fantasy-land/empty"]():e!=null&&e.constructor!=null&&typeof e.constructor["fantasy-land/empty"]=="function"?e.constructor["fantasy-land/empty"]():e!=null&&typeof e.empty=="function"?e.empty():e!=null&&e.constructor!=null&&typeof e.constructor.empty=="function"?e.constructor.empty():le(e)?[]:Te(e)?"":rt(e)?{}:Pr(e)?function(){return arguments}():void 0});const Qr=os;var ss=o(function(e,t){return Zr(e>=0?t.length-e:0,t)});const Yr=ss;var cs=o(function(r,e){return ne(Yr(r.length,e),r)});const ls=cs;var ps=S(function(e,t,n){return ne(e(t),e(n))});const hs=ps;var ds=S(function(e,t,n){return ne(t[e],n[e])});const ms=ds;var fs=o(function r(e,t){var n=t instanceof Array?[]:{},i,a,u;for(a in t)i=e[a],u=typeof i,n[a]=u==="function"?i(t[a]):i&&u==="object"?r(i,t[a]):t[a];return n});const ws=fs;var gs=function(){function r(e,t){this.xf=t,this.f=e,this.found=!1}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=ve(this.xf["@@transducer/step"](e,t))),e},r}(),ys=o(function(e,t){return new gs(e,t)}),vs=o(z(["find"],ys,function(e,t){for(var n=0,i=t.length;n<i;){if(e(t[n]))return t[n];n+=1}}));const _s=vs;var bs=function(){function r(e,t){this.xf=t,this.f=e,this.idx=-1,this.found=!1}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,-1)),this.xf["@@transducer/result"](e)},r.prototype["@@transducer/step"]=function(e,t){return this.idx+=1,this.f(t)&&(this.found=!0,e=ve(this.xf["@@transducer/step"](e,this.idx))),e},r}(),xs=o(function(e,t){return new bs(e,t)}),Ss=o(z([],xs,function(e,t){for(var n=0,i=t.length;n<i;){if(e(t[n]))return n;n+=1}return-1}));const Ps=Ss;var ks=function(){function r(e,t){this.xf=t,this.f=e}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.last))},r.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.last=t),e},r}(),Cs=o(function(e,t){return new ks(e,t)}),As=o(z([],Cs,function(e,t){for(var n=t.length-1;n>=0;){if(e(t[n]))return t[n];n-=1}}));const Is=As;var $s=function(){function r(e,t){this.xf=t,this.f=e,this.idx=-1,this.lastIdx=-1}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.lastIdx))},r.prototype["@@transducer/step"]=function(e,t){return this.idx+=1,this.f(t)&&(this.lastIdx=this.idx),e},r}(),Ts=o(function(e,t){return new $s(e,t)}),Ls=o(z([],Ts,function(e,t){for(var n=t.length-1;n>=0;){if(e(t[n]))return n;n-=1}return-1}));const Ds=Ls;var js=f(Lr(!0));const Os=js;var Es=f(function(e){return K(e.length,function(t,n){var i=Array.prototype.slice.call(arguments,0);return i[0]=n,i[1]=t,e.apply(this,i)})});const wt=Es;var Bs=o(Ke("forEach",function(e,t){for(var n=t.length,i=0;i<n;)e(t[i]),i+=1;return t}));const Ns=Bs;var Rs=o(function(e,t){for(var n=re(t),i=0;i<n.length;){var a=n[i];e(t[a],a,t),i+=1}return t});const Ws=Rs;var Ms=f(function(e){for(var t={},n=0;n<e.length;)t[e[n][0]]=e[n][1],n+=1;return t});const qs=Ms;var zs=o(Ke("groupBy",ft(function(r,e){return r==null&&(r=[]),r.push(e),r},null)));const Us=zs;var Fs=o(function(r,e){for(var t=[],n=0,i=e.length;n<i;){for(var a=n+1;a<i&&r(e[a-1],e[a]);)a+=1;t.push(e.slice(n,a)),n=a}return t});const Gs=Fs;var Ks=o(function(e,t){return e>t});const Zs=Ks;var Vs=o(function(e,t){return e>=t});const Hs=Vs;var Xs=o(function(e,t){if(e.length===0||Ye(t))return!1;for(var n=t,i=0;i<e.length;)if(!Ye(n)&&V(e[i],n))n=n[e[i]],i+=1;else return!1;return!0});const en=Xs;var Js=o(function(e,t){return en([e],t)});const Qs=Js;var Ys=o(function(e,t){return e in t});const ec=Ys;var tc=o(Qe);const rc=tc;var nc=S(function(e,t,n){return K(Math.max(e.length,t.length,n.length),function(){return e.apply(this,arguments)?t.apply(this,arguments):n.apply(this,arguments)})});const ic=nc;var ac=ut(1);const uc=ac;var oc=o(xe);const sc=oc;var cc=ft(function(r,e){return e},null);const lc=cc;var pc=o(function(e,t){return typeof t.indexOf=="function"&&!le(t)?t.indexOf(e):Wr(t,e,0)});const hc=pc;var dc=ae(0,-1);const mc=dc;var fc=S(function(e,t,n){return Wt(function(i){return De(e,i,n)},t)});const wc=fc;var gc=S(function(e,t,n){e=e<n.length&&e>=0?e:n.length;var i=Array.prototype.slice.call(n,0);return i.splice(e,0,t),i});const yc=gc;var vc=S(function(e,t,n){return e=e<n.length&&e>=0?e:n.length,[].concat(Array.prototype.slice.call(n,0,e),t,Array.prototype.slice.call(n,e))});const _c=vc;var tn=o(function(e,t){for(var n=new Fr,i=[],a=0,u,c;a<t.length;)c=t[a],u=e(c),n.add(u)&&i.push(c),a+=1;return i}),bc=tn(dt);const Gt=bc;var xc=o(function(e,t){var n,i;return e.length>t.length?(n=e,i=t):(n=t,i=e),Gt(Wt(wt(xe)(n),i))});const Sc=xc;var Pc=o(Ke("intersperse",function(e,t){for(var n=[],i=0,a=t.length;i<a;)i===a-1?n.push(t[i]):n.push(t[i],e),i+=1;return n}));const kc=Pc;function Cc(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(r),t=1,n=arguments.length;t<n;){var i=arguments[t];if(i!=null)for(var a in i)V(a,i)&&(e[a]=i[a]);t+=1}return e}const He=typeof Object.assign=="function"?Object.assign:Cc;var Ac=o(function(e,t){var n={};return n[e]=t,n});const rn=Ac;var Ic={"@@transducer/init":Array,"@@transducer/step":function(r,e){return r.push(e),r},"@@transducer/result":Ve},$c={"@@transducer/init":String,"@@transducer/step":function(r,e){return r+e},"@@transducer/result":Ve},Tc={"@@transducer/init":Object,"@@transducer/step":function(r,e){return He(r,Fe(e)?rn(e[0],e[1]):e)},"@@transducer/result":Ve};function Lc(r){if(jt(r))return r;if(Fe(r))return Ic;if(typeof r=="string")return $c;if(typeof r=="object")return Tc;throw new Error("Cannot create transformer for "+r)}var Dc=S(function(e,t,n){return jt(e)?Y(t(e),e["@@transducer/init"](),n):Y(t(Lc(e)),pt(e,[],[],!1),n)});const jc=Dc;var Oc=f(function(e){for(var t=re(e),n=t.length,i=0,a={};i<n;){var u=t[i],c=e[u],l=V(c,a)?a[c]:a[c]=[];l[l.length]=u,i+=1}return a});const Ec=Oc;var Bc=f(function(e){for(var t=re(e),n=t.length,i=0,a={};i<n;){var u=t[i];a[e[u]]=u,i+=1}return a});const Nc=Bc;var Rc=o(function(e,t){return K(e+1,function(){var n=arguments[e];if(n!=null&&Le(n[t]))return n[t].apply(n,Array.prototype.slice.call(arguments,0,e));throw new TypeError($e(n)+' does not have a method named "'+t+'"')})});const Xe=Rc;var Wc=o(function(e,t){return t!=null&&t.constructor===e||t instanceof e});const nn=Wc;var Mc=f(function(e){return e!=null&&ne(e,Qr(e))});const qc=Mc;var zc=Xe(1,"join");const Uc=zc;var Fc=f(function(e){return zr(function(){return Array.prototype.slice.call(arguments,0)},e)});const an=Fc;var Gc=f(function(e){var t,n=[];for(t in e)n[n.length]=t;return n});const Kc=Gc;var Zc=o(function(e,t){if(typeof t.lastIndexOf=="function"&&!le(t))return t.lastIndexOf(e);for(var n=t.length-1;n>=0;){if(ne(t[n],e))return n;n-=1}return-1});const Vc=Zc;function It(r){return Object.prototype.toString.call(r)==="[object Number]"}var Hc=f(function(e){return e!=null&&It(e.length)?e.length:NaN});const un=Hc;var Xc=o(function(e,t){return function(n){return function(i){return ue(function(a){return t(a,i)},n(e(i)))}}});const gt=Xc;var Jc=f(function(e){return gt(Ee(e),Ut(e))});const Qc=Jc;var Yc=f(function(e){return gt(Pe(e),$r(e))});const el=Yc;var tl=f(function(e){return gt(Ot(e),st(e))});const rl=tl;var nl=o(function(e,t){return e<t});const il=nl;var al=o(function(e,t){return e<=t});const ul=al;var ol=S(function(e,t,n){for(var i=0,a=n.length,u=[],c=[t];i<a;)c=e(c[0],n[i]),u[i]=c[1],i+=1;return[c[0],u]});const sl=ol;var cl=S(function(e,t,n){for(var i=n.length-1,a=[],u=[t];i>=0;)u=e(u[0],n[i]),a[i]=u[1],i-=1;return[u[0],a]});const ll=cl;var pl=o(function(e,t){return Y(function(n,i){return n[i]=e(t[i],i,t),n},{},re(t))});const hl=pl;var dl=o(function(e,t){return t.match(e)||[]});const ml=dl;var fl=o(function(e,t){return be(e)?!be(t)||t<1?NaN:(e%t+t)%t:NaN});const wl=fl;var gl=S(function(e,t,n){return e(n)>e(t)?n:t});const yl=gl;var vl=me(ut,0);const on=vl;var _l=f(function(e){return on(e)/e.length});const sn=_l;var bl=f(function(e){var t=e.length;if(t===0)return NaN;var n=2-t%2,i=(t-n)/2;return sn(Array.prototype.slice.call(e,0).sort(function(a,u){return a<u?-1:a>u?1:0}).slice(i,i+n))});const xl=bl;var Sl=o(function(e,t){var n={};return de(t.length,function(){var i=e.apply(this,arguments);return V(i,n)||(n[i]=t.apply(this,arguments)),n[i]})});const Pl=Sl;var kl=o(function(e,t){return He({},e,t)});const Cl=kl;var Al=f(function(e){return He.apply(null,[{}].concat(e))});const Il=Al;var $l=S(function(e,t,n){var i={},a;for(a in t)V(a,t)&&(i[a]=V(a,n)?e(a,t[a],n[a]):t[a]);for(a in n)V(a,n)&&!V(a,i)&&(i[a]=n[a]);return i});const Kt=$l;var Tl=S(function r(e,t,n){return Kt(function(i,a,u){return rt(a)&&rt(u)?r(e,a,u):e(i,a,u)},t,n)});const yt=Tl;var Ll=o(function(e,t){return yt(function(n,i,a){return i},e,t)});const Dl=Ll;var jl=o(function(e,t){return yt(function(n,i,a){return a},e,t)});const Ol=jl;var El=S(function(e,t,n){return yt(function(i,a,u){return e(a,u)},t,n)});const Bl=El;var Nl=o(function(e,t){return He({},t,e)});const Rl=Nl;var Wl=o(function(e,t){return He({},e,t)});const Ml=Wl;var ql=S(function(e,t,n){return Kt(function(i,a,u){return e(a,u)},t,n)});const zl=ql;var Ul=o(function(e,t){return t<e?t:e});const Fl=Ul;var Gl=S(function(e,t,n){return e(n)<e(t)?n:t});const Kl=Gl;var Zl=o(function(e,t){return e%t});const Vl=Zl;var Hl=S(function(r,e,t){var n=t.length,i=t.slice(),a=r<0?n+r:r,u=e<0?n+e:e,c=i.splice(a,1);return a<0||a>=t.length||u<0||u>=t.length?t:[].concat(i.slice(0,u)).concat(c).concat(i.slice(u,t.length))});const Xl=Hl;var Jl=o(function(e,t){return e*t});const cn=Jl;var Ql=f(function(e){return-e});const Yl=Ql;var ep=o(function(e,t){return br(Mr(e),t)});const tp=ep;var rp=f(function(e){var t=e<0?1:e+1;return K(t,function(){return Ee(e,arguments)})});const np=rp;var ip=S(function(e,t,n){return e(t(n))});const ap=ip;function up(r){return[r]}var op=f(up);const sp=op;var cp=o(function(e,t){for(var n={},i={},a=0,u=e.length;a<u;)i[e[a]]=1,a+=1;for(var c in t)i.hasOwnProperty(c)||(n[c]=t[c]);return n});const lp=cp;var pp=f(function(e){var t=!1,n;return de(e.length,function(){return t||(t=!0,n=e.apply(this,arguments)),n})});const hp=pp;function ln(r,e){if(e==null||!Le(e.then))throw new TypeError("`"+r+"` expected a Promise, received "+qt(e,[]))}var dp=o(function(e,t){return ln("otherwise",t),t.then(null,e)});const mp=dp;var pn=function(r){return{value:r,map:function(e){return pn(e(r))}}},fp=S(function(e,t,n){return e(function(i){return pn(t(i))})(n).value});const hn=fp;var wp=o(function(e,t){return[e,t]});const gp=wp;function dn(r){return o(function(e,t){return de(Math.max(0,e.length-t.length),function(){return e.apply(this,r(t,arguments))})})}var yp=dn(he);const vp=yp;var _p=dn(wt(he));const bp=_p;var xp=an([Mt,mt]);const Sp=xp;var Pp=S(function(e,t,n){return ne(Pe(e,n),t)});const kp=Pp;var Cp=S(function(e,t,n){return Ur(e,Pe(t,n))});const mn=Cp;var Ap=S(function(e,t,n){return e(Pe(t,n))});const Ip=Ap;var $p=o(function(e,t){for(var n={},i=0;i<e.length;)e[i]in t&&(n[e[i]]=t[e[i]]),i+=1;return n});const Tp=$p;var Lp=o(function(e,t){for(var n={},i=0,a=e.length;i<a;){var u=e[i];n[u]=t[u],i+=1}return n});const fn=Lp;var Dp=o(function(e,t){var n={};for(var i in t)e(t[i],i,t)&&(n[i]=t[i]);return n});const jp=Dp;function Op(){if(arguments.length===0)throw new Error("pipeK requires at least one argument");return Er.apply(this,Ze(arguments))}var Ep=o(function(e,t){return he([e],t)});const wn=Ep;var Bp=me(cn,1);const Np=Bp;var gn=o(function(e,t){return K(t.length,function(){for(var n=[],i=0;i<t.length;)n.push(t[i].call(this,arguments[i])),i+=1;return e.apply(this,n.concat(Array.prototype.slice.call(arguments,t.length)))})}),Rp=gn(Ie,[fn,dt]);const Wp=Rp;var Mp=S(function(e,t,n){return ne(t,n[e])});const qp=Mp;var zp=S(function(e,t,n){return nn(e,n[t])});const Up=zp;var Fp=S(function(e,t,n){return mn(e,[t],n)});const Gp=Fp;var Kp=S(function(e,t,n){return e(n[t])});const Zp=Kp;var Vp=o(function(e,t){return e.map(function(n){return Pe([n],t)})});const Hp=Vp;var Xp=o(function(e,t){if(!(It(e)&&It(t)))throw new TypeError("Both arguments to range must be numbers");for(var n=[],i=e;i<t;)n.push(i),i+=1;return n});const Jp=Xp;var Qp=S(function(e,t,n){for(var i=n.length-1;i>=0;)t=e(n[i],t),i-=1;return t});const yn=Qp;var Yp=Ue(4,[],function(e,t,n,i){return Y(function(a,u){return e(a,u)?t(a,u):ve(a)},n,i)});const eh=Yp;var th=f(ve);const rh=th;var nh=o(function(e,t){var n=Number(t),i=0,a;if(n<0||isNaN(n))throw new RangeError("n must be a non-negative number");for(a=new Array(n);i<n;)a[i]=e(i),i+=1;return a});const vn=nh;var ih=o(function(e,t){return vn(ot(e),t)});const ah=ih;var uh=S(function(e,t,n){return n.replace(e,t)});const oh=uh;var sh=S(function(e,t,n){for(var i=0,a=n.length,u=[t];i<a;)t=e(t,n[i]),u[i+1]=t,i+=1;return u});const ch=sh;var lh=o(function(e,t){return typeof t.sequence=="function"?t.sequence(e):yn(function(n,i){return Et(ue(wn,n),i)},e([]),t)});const _n=lh;var ph=S(function(e,t,n){return hn(e,ot(t),n)});const hh=ph;var dh=o(function(e,t){return Array.prototype.slice.call(t,0).sort(e)});const mh=dh;var fh=o(function(e,t){return Array.prototype.slice.call(t,0).sort(function(n,i){var a=e(n),u=e(i);return a<u?-1:a>u?1:0})});const wh=fh;var gh=o(function(e,t){return Array.prototype.slice.call(t,0).sort(function(n,i){for(var a=0,u=0;a===0&&u<e.length;)a=e[u](n,i),u+=1;return a})});const yh=gh;var vh=Xe(1,"split");const _h=vh;var bh=o(function(e,t){return[ae(0,e,t),ae(e,un(t),t)]});const xh=bh;var Sh=o(function(e,t){if(e<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var n=[],i=0;i<t.length;)n.push(ae(i,i+=e,t));return n});const Ph=Sh;var kh=o(function(e,t){for(var n=0,i=t.length,a=[];n<i&&!e(t[n]);)a.push(t[n]),n+=1;return[a,Array.prototype.slice.call(t,n)]});const Ch=kh;var Ah=o(function(r,e){return ne(Ft(r.length,e),r)});const Ih=Ah;var $h=o(function(e,t){return Number(e)-Number(t)});const Th=$h;var Lh=o(function(e,t){return zt(Ct(e,t),Ct(t,e))});const Dh=Lh;var jh=S(function(e,t,n){return zt(At(e,t,n),At(e,n,t))});const Oh=jh;var Eh=o(function(e,t){for(var n=t.length-1;n>=0&&e(t[n]);)n-=1;return ae(n+1,1/0,t)});const Bh=Eh;var Nh=function(){function r(e,t){this.xf=t,this.f=e}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=E.result,r.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):ve(e)},r}(),Rh=o(function(e,t){return new Nh(e,t)}),Wh=o(z(["takeWhile"],Rh,function(e,t){for(var n=0,i=t.length;n<i&&e(t[n]);)n+=1;return ae(0,n,t)}));const Mh=Wh;var qh=function(){function r(e,t){this.xf=t,this.f=e}return r.prototype["@@transducer/init"]=E.init,r.prototype["@@transducer/result"]=E.result,r.prototype["@@transducer/step"]=function(e,t){return this.f(t),this.xf["@@transducer/step"](e,t)},r}(),zh=o(function(e,t){return new qh(e,t)}),Uh=o(z([],zh,function(e,t){return e(t),t}));const Fh=Uh;function Gh(r){return Object.prototype.toString.call(r)==="[object RegExp]"}var Kh=o(function(e,t){if(!Gh(e))throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+$e(e));return Dr(e).test(t)});const Zh=Kh;var Vh=o(function(e,t){return ln("andThen",t),t.then(e)});const Hh=Vh;var Xh=Xe(0,"toLowerCase");const Jh=Xh;var Qh=f(function(e){var t=[];for(var n in e)V(n,e)&&(t[t.length]=[n,e[n]]);return t});const Yh=Qh;var ed=f(function(e){var t=[];for(var n in e)t[t.length]=[n,e[n]];return t});const td=ed;var rd=Xe(0,"toUpperCase");const nd=rd;var id=K(4,function(e,t,n,i){return Y(e(typeof t=="function"?xr(t):t),n,i)});const ad=id;var ud=f(function(e){for(var t=0,n=[];t<e.length;){for(var i=e[t],a=0;a<i.length;)typeof n[a]>"u"&&(n[a]=[]),n[a].push(i[a]),a+=1;t+=1}return n});const od=ud;var sd=S(function(e,t,n){return typeof n["fantasy-land/traverse"]=="function"?n["fantasy-land/traverse"](t,e):_n(e,ue(t,n))});const cd=sd;var ze="	\n\v\f\r                　\u2028\u2029\uFEFF",ld="​",pd=typeof String.prototype.trim=="function",hd=f(!pd||ze.trim()||!ld.trim()?function(e){var t=new RegExp("^["+ze+"]["+ze+"]*"),n=new RegExp("["+ze+"]["+ze+"]*$");return e.replace(t,"").replace(n,"")}:function(e){return e.trim()});const dd=hd;var md=o(function(e,t){return de(e.length,function(){try{return e.apply(this,arguments)}catch(n){return t.apply(this,he([n],arguments))}})});const fd=md;var wd=f(function(e){return function(){return e(Array.prototype.slice.call(arguments,0))}});const gd=wd;var yd=f(function(e){return ct(1,e)});const vd=yd;var _d=o(function(e,t){return K(e,function(){for(var n=1,i=t,a=0,u;n<=e&&typeof i=="function";)u=n===e?arguments.length:a+i.length,i=i.apply(this,Array.prototype.slice.call(arguments,a,u)),n+=1,a=u;return i})});const bd=_d;var xd=o(function(e,t){for(var n=e(t),i=[];n&&n.length;)i[i.length]=n[0],n=e(n[1]);return i});const Sd=xd;var Pd=o(tt(Gt,he));const kd=Pd;var Cd=o(function(e,t){for(var n=0,i=t.length,a=[],u;n<i;)u=t[n],De(e,u,a)||(a[a.length]=u),n+=1;return a});const bn=Cd;var Ad=S(function(e,t,n){return bn(e,he(t,n))});const Id=Ad;var $d=S(function(e,t,n){return e(n)?n:t(n)});const Td=$d;var Ld=Nt(Ve);const Dd=Ld;var jd=S(function(e,t,n){for(var i=n;!e(i);)i=t(i);return i});const Od=jd;var Ed=f(function(e){var t,n=[];for(t in e)n[n.length]=e[t];return n});const Bd=Ed;var Nd=function(r){return{value:r,"fantasy-land/map":function(){return this}}},Rd=o(function(e,t){return e(Nd)(t).value});const Wd=Rd;var Md=S(function(e,t,n){return e(n)?t(n):n});const qd=Md;var zd=o(function(e,t){for(var n in e)if(V(n,e)&&!e[n](t[n]))return!1;return!0});const xn=zd;var Ud=o(function(e,t){return xn(ue(ne,e),t)});const Fd=Ud;var Gd=o(function(r,e){return mt(wt(xe)(r),e)});const Kd=Gd;var Zd=o(function(e,t){return!!(!e^!t)});const Vd=Zd;var Hd=o(function(e,t){for(var n=0,i=e.length,a,u=t.length,c=[];n<i;){for(a=0;a<u;)c[c.length]=[e[n],t[a]],a+=1;n+=1}return c});const Xd=Hd;var Jd=o(function(e,t){for(var n=[],i=0,a=Math.min(e.length,t.length);i<a;)n[i]=[e[i],t[i]],i+=1;return n});const Qd=Jd;var Yd=o(function(e,t){for(var n=0,i=Math.min(e.length,t.length),a={};n<i;)a[e[n]]=t[n],n+=1;return a});const em=Yd;var tm=S(function(e,t,n){for(var i=[],a=0,u=Math.min(t.length,n.length);a<u;)i[a]=e(t[a],n[a]),a+=1;return i});const rm=tm;var nm=f(function(e){return K(e.length,function(){var n=arguments;return function(){return e.apply(this,n)}})});const im=nm,am=Object.freeze(Object.defineProperty({__proto__:null,F:va,T:ba,__:xa,add:ut,addIndex:Ca,adjust:_r,all:br,allPass:Ga,always:ot,and:Cr,andThen:Hh,any:Ja,anyPass:Ya,ap:Et,aperture:au,append:ou,apply:Ar,applySpec:pu,applyTo:du,ascend:fu,assoc:st,assocPath:$r,binary:bu,bind:Sr,both:Pu,call:Cu,chain:Nt,clamp:ju,clone:Bu,comparator:Ru,complement:qu,compose:tt,composeK:Er,composeP:Fu,composeWith:Hu,concat:zt,cond:oo,construct:lo,constructN:qr,contains:ho,converge:zr,countBy:yo,curry:Bt,curryN:K,dec:_o,defaultTo:Ur,descend:So,difference:Ct,differenceWith:At,dissoc:Gr,dissocPath:To,divide:Do,drop:Zr,dropLast:Uo,dropLastWhile:Vo,dropRepeats:Yo,dropRepeatsWith:Xr,dropWhile:ns,either:us,empty:Qr,endsWith:ls,eqBy:hs,eqProps:ms,equals:ne,evolve:ws,filter:Mt,find:_s,findIndex:Ps,findLast:Is,findLastIndex:Ds,flatten:Os,flip:wt,forEach:Ns,forEachObjIndexed:Ws,fromPairs:qs,groupBy:Us,groupWith:Gs,gt:Zs,gte:Hs,has:Qs,hasIn:ec,hasPath:en,head:Nr,identical:rc,identity:dt,ifElse:ic,inc:uc,includes:sc,indexBy:lc,indexOf:hc,init:mc,innerJoin:wc,insert:yc,insertAll:_c,intersection:Sc,intersperse:kc,into:jc,invert:Ec,invertObj:Nc,invoker:Xe,is:nn,isEmpty:qc,isNil:Ye,join:Uc,juxt:an,keys:re,keysIn:Kc,last:Hr,lastIndexOf:Vc,length:un,lens:gt,lensIndex:Qc,lensPath:el,lensProp:rl,lift:lt,liftN:Tr,lt:il,lte:ul,map:ue,mapAccum:sl,mapAccumRight:ll,mapObjIndexed:hl,match:ml,mathMod:wl,max:Oe,maxBy:yl,mean:sn,median:xl,memoizeWith:Pl,merge:Cl,mergeAll:Il,mergeDeepLeft:Dl,mergeDeepRight:Ol,mergeDeepWith:Bl,mergeDeepWithKey:yt,mergeLeft:Rl,mergeRight:Ml,mergeWith:zl,mergeWithKey:Kt,min:Fl,minBy:Kl,modulo:Vl,move:Xl,multiply:cn,nAry:ct,negate:Yl,none:tp,not:jr,nth:Ee,nthArg:np,o:ap,objOf:rn,of:sp,omit:lp,once:hp,or:Jr,otherwise:mp,over:hn,pair:gp,partial:vp,partialRight:bp,partition:Sp,path:Pe,pathEq:kp,pathOr:mn,pathSatisfies:Ip,paths:kr,pick:Tp,pickAll:fn,pickBy:jp,pipe:Or,pipeK:Op,pipeP:Br,pipeWith:Rr,pluck:Ge,prepend:wn,product:Np,project:Wp,prop:Ot,propEq:qp,propIs:Up,propOr:Gp,propSatisfies:Zp,props:Hp,range:Jp,reduce:me,reduceBy:ft,reduceRight:yn,reduceWhile:eh,reduced:rh,reject:mt,remove:Kr,repeat:ah,replace:oh,reverse:Ze,scan:ch,sequence:_n,set:hh,slice:ae,sort:mh,sortBy:wh,sortWith:yh,split:_h,splitAt:xh,splitEvery:Ph,splitWhen:Ch,startsWith:Ih,subtract:Th,sum:on,symmetricDifference:Dh,symmetricDifferenceWith:Oh,tail:ht,take:Ft,takeLast:Yr,takeLastWhile:Bh,takeWhile:Mh,tap:Fh,test:Zh,thunkify:im,times:vn,toLower:Jh,toPairs:Yh,toPairsIn:td,toString:$e,toUpper:nd,transduce:ad,transpose:od,traverse:cd,trim:dd,tryCatch:fd,type:et,unapply:gd,unary:vd,uncurryN:bd,unfold:Sd,union:kd,unionWith:Id,uniq:Gt,uniqBy:tn,uniqWith:bn,unless:Td,unnest:Dd,until:Od,update:Ut,useWith:gn,values:Ir,valuesIn:Bd,view:Wd,when:qd,where:xn,whereEq:Fd,without:Kd,xor:Vd,xprod:Xd,zip:Qd,zipObj:em,zipWith:rm},Symbol.toStringTag,{value:"Module"})),um=An(am);(function(r){var e=Ae&&Ae.__createBinding||(Object.create?function(h,d,y,T){T===void 0&&(T=y),Object.defineProperty(h,T,{enumerable:!0,get:function(){return d[y]}})}:function(h,d,y,T){T===void 0&&(T=y),h[T]=d[y]}),t=Ae&&Ae.__setModuleDefault||(Object.create?function(h,d){Object.defineProperty(h,"default",{enumerable:!0,value:d})}:function(h,d){h.default=d}),n=Ae&&Ae.__importStar||function(h){if(h&&h.__esModule)return h;var d={};if(h!=null)for(var y in h)y!=="default"&&Object.hasOwnProperty.call(h,y)&&e(d,h,y);return t(d,h),d};Object.defineProperty(r,"__esModule",{value:!0}),r.findTracking=r.getTracking=r.allCouriers=r.usps=r.ups=r.s10=r.ontrac=r.fedex=r.dhl=r.amazon=void 0;const i=n(Zi);r.amazon=i;const a=n(Ji);r.dhl=a;const u=n(ta);r.fedex=u;const c=n(aa);r.ontrac=c;const l=n(ca);r.s10=l;const m=n(da);r.ups=m;const _=n(ga);r.usps=_;const p=um;r.allCouriers=[i,a,u,c,l,m,_];const k=h=>d=>d.regex_group_name==="ServiceType"?d.lookup.some(y=>y.matches_regex?new RegExp(y.matches_regex).test(h.groups[d.regex_group_name]):!0):d.regex_group_name==="CountryCode"||d.regex_group_name==="ShippingContainerType"?d.lookup.some(y=>y.matches===h.groups[d.regex_group_name]):!0,R=(h,d)=>{const y=p.is(String,d)?d:d.join(""),T=new RegExp("\\b".concat(y,"\\b")).exec(h.replace(/[^a-zA-Z\d]/g,""));return T&&{serial:T.groups.SerialNumber.replace(/\s/g,""),checkDigit:T.groups.CheckDigit,groups:T.groups}||{}},P=(h,d)=>d.additional?d.additional.every(k(R(h,d.regex))):!0,v=h=>!0,A=h=>p.pipe(p.split(""),p.map(d=>isNaN(d)?(d.charCodeAt(0)-3)%10:parseInt(d)))(h),j=h=>Object.assign({},h),O=(h,d)=>d%2===0,B=p.complement(O),F=(h,d)=>p.pipe(j,p.pickBy(h),p.values,p.sum)(d),X=({serial:h,checkDigit:d,checksum:y})=>{const T=A(h.replace(/[^\da-zA-Z]/g,""));return(10-p.sum([F(O,T)*(y.evens_multiplier||1),F(B,T)*(y.odds_multiplier||1)])%10)%10===parseInt(d)},w=({serial:h,checkDigit:d})=>parseInt(h)%7===parseInt(d),b=(h,d)=>p.sum(p.zip(d.split("").map(y=>parseInt(y)),h||[]).map(y=>y.reduce(p.multiply))),W=({serial:h,checkDigit:d})=>{const y=b([8,6,4,2,3,5,9,7],h)%11;return(y===1?0:y===0?5:11-y)===parseInt(d)},$=({serial:h,checkDigit:d,checksum:y})=>b(y.weightings,h)%y.modulo1%y.modulo2===parseInt(d),g=({validation:{checksum:h}})=>(h==null?void 0:h.name)==="mod10"?X:(h==null?void 0:h.name)==="sum_product_with_weightings_and_modulo"?$:(h==null?void 0:h.name)==="mod7"?w:(h==null?void 0:h.name)==="s10"?W:v,L=(h,d)=>d.prepend_if&&new RegExp(d.prepend_if.matches_regex).test(h)?"".concat(d.prepend_if.content).concat(h):h,D=(h,{regex:d,validation:{serial_number_format:y,checksum:T}})=>{const Z=R(h,d);return Z&&Z.serial?{serial:y?L(Z.serial,y):Z.serial,checkDigit:Z.checkDigit,checksum:T}:null},C=(h,d,y)=>({name:h.name,trackingUrl:h.tracking_url||null,description:h.description||null,trackingNumber:y.replace(/[^a-zA-Z\d]/g,""),courier:{name:d.name,code:d.courier_code}}),H=h=>d=>p.pipe(p.prop("regex"),p.ifElse(p.is(String),p.identity,p.join("")),y=>new RegExp(y,"g"),p.flip(p.match)(h),p.map(p.replace(/[^a-zA-Z\d\n\r]/g,"")),p.uniq)(d),ie=(h,d)=>d.map(p.pipe(p.prop("tracking_numbers"),p.chain(p.pipe(H(h),p.flatten)))),oe=(h,d)=>p.pipe(p.flatten,p.uniq,y=>p.filter(T=>p.none(p.test(new RegExp("([a-zA-Z0-9 ]+)".concat(T,"$"))),y))(y),y=>p.filter(T=>p.none(p.test(new RegExp("^".concat(T,"([a-zA-Z0-9 ]+)"))),y))(y))(ie(h,d)),I=h=>p.reduce((d,y)=>d||p.reduce((T,Z)=>{const _e=D(h,Z);return _e&&g(Z)(_e)&&P(h,Z)?p.reduced(C(Z,y,h)):void 0},void 0,y.tracking_numbers),void 0);r.getTracking=(h,d=r.allCouriers)=>I(h)(d),r.findTracking=(h,d)=>oe(h,d||r.allCouriers).map(y=>r.getTracking(y,d||r.allCouriers)).filter(p.complement(p.isNil))})(vr);const or=pe("span")(()=>({fontWeight:"bold",color:"#313440"}));function om(){const{state:{shippings:r=[],addressLabelPermission:e,orderIsDigital:t,money:n}}=x.useContext(je),[i]=Se(),a=ye(),[u,c]=x.useState([]);x.useEffect(()=>{r.length&&(r.forEach(P=>{if(P.shipmentItems.length){const{shipmentItems:v}=P;v.forEach(A=>{const j=A.tracking_number;if(A!=null&&A.generated_tracking_link&&j){A.tracking_link=A.generated_tracking_link;return}const O=vr.getTracking(j);if(O){const{trackingUrl:B="",trackingNumber:F}=O,X=A;B&&(X.tracking_link=B.includes("=%s")?B.replace("=%s","=".concat(F)):B)}})}}),c(r))},[r]);const l=P=>{const{first_name:v,last_name:A}=P;return"".concat(v," ").concat(A)},m=P=>{const{street_1:v,city:A,state:j,zip:O,country:B}=P;return"".concat(v,", ").concat(A,", ").concat(j," ").concat(O,", ").concat(B)};let _=0;const p=()=>(_+=1,_),k=P=>{const{date_created:v,shipping_method:A,shipping_provider:j}=P,O=si(new Date(v),"LLLL, d");return"shipped on ".concat(O,", by ").concat(j,", ").concat(A)},R=P=>{if(e)return P;const v=P.indexOf("/");return P.substring(v+1,P.length)};return t?null:s.jsx($t,{spacing:2,children:u.map(P=>s.jsx(nt,{children:s.jsxs(it,{children:[s.jsxs(Q,{sx:{wordBreak:"break-word",color:"rgba(0, 0, 0, 0.87)",display:"flex",flexDirection:"column",justifyContent:"space-around"},children:[s.jsxs(J,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:[l(P)," – ",R(P.company||"")]}),s.jsx(J,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:m(P)})]}),(P.shipmentItems||[]).map(v=>v.itemsInfo.length>0?s.jsxs(x.Fragment,{children:[s.jsxs(Q,{sx:{margin:"20px 0 2px"},children:[s.jsx(J,{variant:"body1",children:s.jsxs(s.Fragment,{children:[s.jsx(or,{children:"".concat(a("orderDetail.shipment.shipment")," ").concat(p()," – ")}),k(v)]})}),v.tracking_link?s.jsx(Cn,{href:v.tracking_link,target:"_blank",children:v.tracking_number}):s.jsx(J,{variant:"body1",children:v.tracking_number})]}),s.jsx(kt,{quantityKey:"current_quantity_shipped",products:v.itemsInfo,money:n,totalText:"Total",canToProduct:!0,textAlign:"right"})]},"shipment-".concat(v.id)):null),P.notShip.itemsInfo.length>0?s.jsxs(x.Fragment,{children:[s.jsx(Q,{sx:{margin:"20px 0 2px"},children:s.jsx(J,{variant:"body1",children:s.jsx(or,{children:a("orderDetail.shipment.notShippedYet")})})}),s.jsx(kt,{quantityKey:"not_shipping_number",products:P.notShip.itemsInfo,money:n,totalText:"Total",canToProduct:!0,textAlign:i?"left":"right"})]},"shipment-notShip-".concat(P.id)):null]})},"shipping-".concat(P.id)))})}const sm=wr;function cm(){const r=ge(at),e=ti(),t=mr(),n=ye(),{state:{addressConfig:i},dispatch:a}=x.useContext(lr),{state:{poNumber:u,status:c="",customStatus:l,orderSummary:m,orderStatus:_=[]},state:p,dispatch:k}=x.useContext(je),{state:{portalStyle:{backgroundColor:R="#FEF9F5"}}}=x.useContext(Fn),P=Gn(R),v=dr(),[A]=Se(),[j,O]=x.useState(""),[B,F]=x.useState(""),[X,w]=x.useState(!1);x.useEffect(()=>{F(e.id||"")},[e]);const b=()=>{t("".concat(v.state.isCompanyOrder?"/company-orders":"/orders"))};x.useEffect(()=>{if(B){const g=async()=>{const D=parseInt(B,10);if(D){w(!0);try{const C=r?await Jn(D):await Qn(D);if(C){const{products:H}=C,ie={...C,products:H.map(I=>({...I,imageUrl:(I==null?void 0:I.variantImageUrl)||I.imageUrl}))},oe=r?wr(ie,n):sm(ie,n);k({type:"all",payload:oe}),O(B)}}catch(C){C==="order does not exist"&&setTimeout(()=>{window.location.hash="/orderDetail/".concat(j)},1e3)}finally{w(!1)}}},L=async()=>{const D=r?await Yn():await ei();k({type:"statusType",payload:{orderStatus:D}})};g(),L()}},[r,B,j]);const W=g=>{F(g.toString())};x.useEffect(()=>{(async()=>{var L;try{let D=i;if(!D){const{addressConfig:H}=await Vn();D=H,a({type:"common",payload:{addressConfig:D}})}const C=((L=(D||[]).find(H=>H.key==="address_label"))==null?void 0:L.isEnabled)==="1";k({type:"addressLabel",payload:{addressLabelPermission:C}})}catch(D){Tt.error(D)}})()},[]);const $=g=>{const L=_.find(C=>C.systemLabel===g);let D=(L==null?void 0:L.customLabel)||l;if(L){const C=hr[L.systemLabel];D=C&&n(C)!==L.systemLabel?n(C):D}return D};return s.jsx(Kn,{isSpinning:X,background:"rgba(255,255,255,0.2)",children:s.jsxs(Q,{sx:{overflow:"auto",flex:1},children:[s.jsx(Q,{sx:{marginBottom:"10px",width:"fit-content"},children:s.jsx(Q,{sx:{color:"primary.main",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center"},onClick:b,children:v.state!==null?s.jsxs(s.Fragment,{children:[s.jsx(ci,{sx:{fontSize:"13px",margin:"0 8px"}}),s.jsx("span",{children:n("orderDetail.backToOrders")})]}):""})}),s.jsxs(Ce,{container:!0,spacing:2,children:[s.jsxs(Ce,{item:!0,xs:A?12:8,sx:{display:"flex",alignItems:"center",gap:"15px",order:A?1:0},children:[s.jsxs(J,{variant:"h4",sx:{color:Zn(P,.87)||"#263238"},children:[n("orderDetail.orderId",{orderId:B}),n("orderDetail.purchaseOrderNumber",{purchaseOrderNumber:u!=null?u:""})]}),s.jsx(pr,{code:c,text:$(c)})]}),s.jsx(Ce,{container:!0,item:!0,xs:A?12:4,sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:(v==null?void 0:v.state)&&s.jsx(Ci,{onChange:g=>W(g),color:P})})]}),s.jsxs(Ce,{container:!0,spacing:2,sx:{marginTop:"0",overflow:"auto",flexWrap:A?"wrap":"nowrap",paddingBottom:"20px"},children:[s.jsx(Ce,{item:!0,sx:A?{flexBasis:"100%"}:{flexBasis:"690px",flexGrow:1},children:s.jsxs($t,{spacing:3,children:[s.jsx(om,{}),s.jsx(qi,{}),s.jsx(Ui,{})]})}),s.jsx(Ce,{item:!0,sx:A?{flexBasis:"100%"}:{flexBasis:"340px"},children:JSON.stringify(m)==="{}"?null:s.jsx(Mi,{detailsData:p})})]})]})})}function Nm(){return s.jsx(mi,{children:s.jsx(cm,{})})}export{Nm as default};
